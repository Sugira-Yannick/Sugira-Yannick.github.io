<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commandes Importantes - Base de Connaissances Syst√®me & R√©seau</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* [TOUS LES STYLES COMPLETS AVEC LES AM√âLIORATIONS] */
    :root {
      --bg: #ffffff;
      --fg: #333333;
      --accent: #3498db;
      --code-bg: #f5f5f5;
      --note-bg: #e7f5fe;
      --warn-bg: #fff3cd;
      --linux-color: #dd4814;
      --windows-color: #0078d7;
      --cisco-color: #1ba0d7;
      --powershell-color: #5391cc;
      --network-color: #4b6a88;
      --pfsense-color: #212121;
      --admin-color: #6e40aa;
      --device-color: #6c757d;
      --web-color: #e44d26;
      --virt-color: #562d7d;       
      --backup-color: #5cb85c;     
      --monitoring-color: #f0ad4e; 
      --security-color: #d9534f;   
      --docker-color: #2496ed;
      --cloud-color: #ff9900;
      --automation-color: #28a745;
      --database-color: #8e44ad;
      --aichat-color: #00b8d4;
      --lab-color: #e67e22;
      --sites-color: #9b59b6;
      --urgent-color: #e74c3c;
      --diagnostic-color: #3498db;
      --securite-color: #d9534f;
      --production-color: #27ae60;
      --risque-faible: #2ecc71;
      --risque-moyen: #f39c12;
      --risque-eleve: #e74c3c;
    }
    [data-theme="dark"] {
      --bg: #1e1e1e;
      --fg: #f0f0f0;
      --accent: #2980b9;
      --code-bg: #2b2b2b;
      --note-bg: #2c3e50;
      --warn-bg: #664d03;
      --urgent-color: #c0392b;
      --diagnostic-color: #2980b9;
      --securite-color: #c0392b;
      --production-color: #229954;
    }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      display: flex;
      line-height: 1.6;
    }
    nav {
      width: 250px;
      background: var(--accent);
      color: white;
      padding: 20px;
      height: 100vh;
      position: sticky;
      top: 0;
      overflow-y: auto;
    }
    nav h2 {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    nav a {
      display: block;
      color: white;
      text-decoration: none;
      margin: 5px 0;
      padding: 5px;
      border-radius: 4px;
      transition: background 0.2s;
    }
    nav a:hover {
      background: rgba(255,255,255,0.2);
    }
    .content {
      flex: 1;
      padding: 20px;
      max-width: 1000px;
    }
    h1 {
      color: var(--accent);
      border-bottom: 2px solid var(--accent);
      padding-bottom: 10px;
    }
    h2 {
      color: var(--accent);
      border-bottom: 2px solid;
      padding-bottom: 5px;
      margin-top: 30px;
    }
    h2 i {
      margin-right: 10px;
    }
    h3 {
      color: var(--fg);
      margin-top: 20px;
      font-size: 1.1em;
    }
    h3 i {
      margin-right: 8px;
      width: 20px;
      text-align: center;
    }
    pre {
      background: var(--code-bg);
      padding: 15px;
      border-left: 4px solid var(--accent);
      position: relative;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin: 15px 0;
      border-radius: 4px;
      overflow-x: auto;
    }
    code {
      font-family: Consolas, monospace;
      color: #c7254e;
    }
    .copy-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      background: var(--code-bg);
      border: 1px solid rgba(0,0,0,0.1);
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 4px;
      transition: all 0.2s;
    }
    .copy-btn:hover {
      background: var(--accent);
      color: white;
    }
    .note, .warning, .usage {
      padding: 15px;
      margin: 15px 0;
      border-left: 4px solid var(--accent);
      border-radius: 4px;
    }
    .note { 
      background: var(--note-bg); 
    }
    .warning { 
      background: var(--warn-bg);
    }
    .usage {
      background: #e8f5e8;
      border-left-color: #28a745;
      color: #333;
    }
    .theme-toggle {
      position: fixed;
      top: 10px;
      right: 20px;
      cursor: pointer;
      font-size: 1.2em;
      background: var(--accent);
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    @media (max-width: 768px) {
      nav { 
        width: 100%;
        height: auto;
        position: relative;
      }
      body { 
        flex-direction: column; 
      }
      .theme-toggle {
        position: absolute;
        top: 10px;
        right: 10px;
      }
      .quick-nav {
        position: relative !important;
        width: 100% !important;
        margin-bottom: 20px;
      }
    }
    /* Couleurs des ic√¥nes par cat√©gorie */
    .linux-icon { color: var(--linux-color); }
    .windows-icon { color: var(--windows-color); }
    .cisco-icon { color: var(--cisco-color); }
    .powershell-icon { color: var(--powershell-color); }
    .network-icon { color: var(--network-color); }
    .pfsense-icon { color: var(--pfsense-color); }
    .admin-icon { color: var(--admin-color); }
    .device-icon { color: var(--device-color); }
    .web-icon { color: var(--web-color); }
    .virt-icon { color: var(--virt-color); }
    .backup-icon { color: var(--backup-color); }
    .monitoring-icon { color: var(--monitoring-color); }
    .security-icon { color: var(--security-color); }
    .docker-icon { color: var(--docker-color); }
    .cloud-icon { color: var(--cloud-color); }
    .automation-icon { color: var(--automation-color); }
    .database-icon { color: var(--database-color); }
    .aichat-icon { color: var(--aichat-color); }
    .lab-icon { color: var(--lab-color); }
    .sites-icon { color: var(--sites-color); }
    
    /* Style pour la recherche */
    #searchInput {
      margin: 10px 0 20px;
      padding: 12px 15px;
      width: 100%;
      font-size: 1em;
      border: 2px solid var(--accent);
      border-radius: 5px;
      background: var(--bg);
      color: var(--fg);
      box-sizing: border-box;
    }
    
    .search-highlight {
      background-color: yellow;
      color: black;
      padding: 0 2px;
      border-radius: 2px;
    }
    
    .section-hidden {
      display: none;
    }
    
    ul {
      padding-left: 20px;
    }
    
    li {
      margin-bottom: 5px;
    }
    
    .usage-item {
      background: #f8f9fa;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border-left: 3px solid #28a745;
    }

    /* NOUVEAUX STYLES POUR LES AM√âLIORATIONS */
    
    /* Tags et badges */
    .tag {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      font-weight: bold;
      margin: 2px;
    }
    .tag.urgent { background: var(--urgent-color); color: white; }
    .tag.diagnostic { background: var(--diagnostic-color); color: white; }
    .tag.securite { background: var(--securite-color); color: white; }
    .tag.production { background: var(--production-color); color: white; }
    .tag.risque-faible { background: var(--risque-faible); color: white; }
    .tag.risque-moyen { background: var(--risque-moyen); color: white; }
    .tag.risque-eleve { background: var(--risque-eleve); color: white; }
    .tag.configuration { background: #9b59b6; color: white; }
    .tag.reseau { background: #3498db; color: white; }
    .tag.maintenance { background: #f39c12; color: white; }
    .tag.monitoring { background: #e67e22; color: white; }

    /* Cartes de commandes */
    .command-card {
      background: var(--bg);
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .command-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }
    .command-meta .tag {
      font-size: 0.7em;
    }

    /* Bo√Ætes de contexte */
.context-box {
    background: var(--note-bg);
    border-left: 4px solid var(--accent);
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
    color: var(--fg);
}

.context-box strong {
    color: var(--accent);
}

    /* Navigation rapide */
    .quick-nav {
      position: fixed;
      top: 80px;
      right: 20px;
      width: 250px;
      background: var(--bg);
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 99;
      max-height: 80vh;
      overflow-y: auto;
    }
    .quick-nav h3 {
      margin-top: 0;
      color: var(--accent);
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .quick-nav button {
      display: block;
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-align: left;
      transition: background 0.2s;
    }
    .quick-nav button:hover {
      background: #2980b9;
    }

    /* Workflows */
    .workflow {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    .workflow h3 {
      color: white;
      margin-top: 0;
    }
    .workflow ol {
      padding-left: 20px;
    }
    .workflow li {
      margin: 10px 0;
      padding: 10px;
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .workflow li:hover {
      background: rgba(255,255,255,0.2);
    }

    /* Diagrammes */
    .diagram {
      background: #2c3e50;
      color: white;
      padding: 15px;
      border-radius: 8px;
      margin: 15px 0;
      font-family: 'Courier New', monospace;
      overflow-x: auto;
    }

    /* Filtres */
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 15px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .filter-btn {
      padding: 8px 15px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .filter-btn.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    /* Mode urgence */
    .mode-toggle {
      position: fixed;
      top: 10px;
      left: 270px;
      background: var(--accent);
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    /* Cartes de sc√©narios */
    .scenario-card {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }
    .scenario-card:hover {
      transform: translateY(-2px);
    }
    .scenario-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    .scenario-icon {
      font-size: 2em;
      margin-right: 15px;
    }
    .scenario-card { background: var(--bg); }
    
    /* Diagram */
    .diagram { 
    background: var(--code-bg) !important; 
    color: var(--fg) !important; 
}

    /* Styles pour le mode urgence */
    body.mode-urgence .context-box,
    body.mode-urgence .note,
    body.mode-urgence .warning,
    body.mode-urgence .usage {
      display: none;
    }
    body.mode-urgence .command-card {
      padding: 10px;
      margin: 10px 0;
    }
    body.mode-urgence pre {
      margin: 5px 0;
    }
  </style>
</head>
<body>
 
    <nav>
  <h2>Navigation</h2>
  <a href="#linux"><i class="fab fa-linux linux-icon"></i> Linux</a>
  <a href="#windows"><i class="fab fa-windows windows-icon"></i> Windows</a>
  <a href="#cisco"><i class="fas fa-network-wired cisco-icon"></i> Cisco</a>
  <a href="#powershell"><i class="fas fa-terminal powershell-icon"></i> PowerShell</a>
  <a href="#reseau"><i class="fas fa-wifi network-icon"></i> R√©seau</a>
  <a href="#pfsense"><i class="fas fa-shield-alt pfsense-icon"></i> pfSense</a>
  <a href="#administration"><i class="fas fa-user-cog admin-icon"></i> Administration</a>
  <a href="#peripheriques"><i class="fas fa-print device-icon"></i> Periph√©riques</a>
  <a href="#web"><i class="fas fa-globe web-icon"></i> Serveur Web</a>
  <a href="#virtualisation"><i class="fas fa-cloud virt-icon"></i> Virtualisation</a>
  <a href="#backup"><i class="fas fa-save backup-icon"></i> Sauvegarde</a>
  <a href="#monitoring"><i class="fas fa-chart-bar monitoring-icon"></i> Monitoring</a>
  <a href="#securite"><i class="fas fa-shield-alt security-icon"></i> S√©curit√©</a>
  <a href="#containers"><i class="fab fa-docker docker-icon"></i> Containers</a>
  <a href="#cloud"><i class="fas fa-cloud cloud-icon"></i> Cloud & IaC</a>
  <a href="#automation"><i class="fas fa-robot automation-icon"></i> Automatisation</a>
  <a href="#databases"><i class="fas fa-database database-icon"></i> Bases de Donn√©es</a>
  <a href="#aichat"><i class="fas fa-robot aichat-icon"></i> Aichat</a>
  <a href="#lab"><i class="fas fa-flask lab-icon"></i> Logiciels du Labo</a>
  <a href="#sites-internet"><i class="fas fa-external-link-alt sites-icon"></i> Sites de R√©f√©rence</a>
</nav>

  <div class="content">
    <!-- Nouvelle navigation rapide -->
    <div class="quick-nav">
      <h3>üîß Sc√©narios Courants</h3>
      <button onclick="filterScenario('reseau-down')">üåê R√©seau HS</button>
      <button onclick="filterScenario('ssh-blocked')">üîí SSH bloqu√©</button>
      <button onclick="filterScenario('disk-full')">üíæ Disque plein</button>
      <button onclick="filterScenario('service-crash')">üö® Service crash√©</button>
      <button onclick="filterScenario('dns-issue')">üåç DNS cass√©</button>
      <button onclick="filterScenario('firewall-block')">üõ°Ô∏è Firewall bloque</button>
      <button onclick="filterScenario('performance-slow')">üêå Performance lente</button>
      <button onclick="filterScenario('security-breach')">üîê Incident s√©curit√©</button>
      
      <h3 style="margin-top: 20px;">üéØ Filtres Rapides</h3>
      <button onclick="showAllCommands()">üìã Tout afficher</button>
      <button onclick="filterByRisk('faible')">üü¢ Risque faible</button>
      <button onclick="filterByRisk('eleve')">üî¥ Risque √©lev√©</button>
      <button onclick="filterByType('diagnostic')">üîç Diagnostic</button>
      <button onclick="filterByType('reparation')">üîß R√©paration</button>
    </div>

    <!-- Mode toggle -->
    <div class="mode-toggle" onclick="toggleMode()">
      <i class="fas fa-rocket"></i> Mode Urgence
    </div>

    <!-- Barre de recherche am√©lior√©e -->
    <input type="text" id="searchInput" placeholder="üîç Rechercher une commande, un sympt√¥me ou un sc√©nario..." />
    
    <!-- Filtres -->
    <div class="filters">
      <span><strong>Filtrer par :</strong></span>
      <button class="filter-btn active" onclick="toggleFilter('all')">Tout</button>
      <button class="filter-btn" onclick="toggleFilter('linux')">üêß Linux</button>
      <button class="filter-btn" onclick="toggleFilter('windows')">ü™ü Windows</button>
      <button class="filter-btn" onclick="toggleFilter('cisco')">üîå Cisco</button>
      <button class="filter-btn" onclick="toggleFilter('reseau')">üåê R√©seau</button>
      <button class="filter-btn" onclick="toggleFilter('securite')">üîí S√©curit√©</button>
      <button class="filter-btn" onclick="toggleFilter('diagnostic')">üîç Diagnostic</button>
    </div>

    <span class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i></span>
    <h1>Commandes Importantes <span class="tag diagnostic">BASE DE CONNAISSANCES</span></h1>

    <!-- Section Workflows Guid√©s -->
    <div class="workflow">
      <h3>üîß Workflows de Diagnostic Rapide</h3>
      <ol>
        <li onclick="scrollToCommand('ip-a')">‚úÖ V√©rifier les interfaces r√©seau</li>
        <li onclick="scrollToCommand('ping-test')">‚úÖ Tester la connectivit√© Internet</li>
        <li onclick="scrollToCommand('dns-check')">‚úÖ V√©rifier le DNS</li>
        <li onclick="scrollToCommand('service-status')">‚úÖ V√©rifier les services</li>
        <li onclick="scrollToCommand('disk-space')">‚úÖ V√©rifier l'espace disque</li>
      </ol>
    </div>

    <!-- Diagramme de flux -->
    <div class="diagram">
      <h4>üìä Flux de Diagnostic R√©seau</h4>
      <pre>
  [Probl√®me r√©seau] 
       ‚Üì
  [ip a] ‚Üí Interfaces OK ? ‚Üí Non ‚Üí [V√©rifier c√¢bles/cartes]
       ‚Üì Oui
  [ping 8.8.8.8] ‚Üí Internet OK ? ‚Üí Non ‚Üí [ip route show]
       ‚Üì Oui
  [nslookup] ‚Üí DNS OK ? ‚Üí Non ‚Üí [cat /etc/resolv.conf]
       ‚Üì Oui
  [Probl√®me applicatif]
      </pre>
    </div>

    <!-- Sc√©narios courants -->
    <h2>üö® Sc√©narios d'Urgence</h2>

    <div class="scenario-card">
      <div class="scenario-header">
        <div class="scenario-icon">üåê</div>
        <div>
          <h3>R√©seau Compl√®tement HS</h3>
          <div class="command-meta">
            <span class="tag urgent">URGENT</span>
            <span class="tag risque-faible">RISQUE FAIBLE</span>
            <span class="tag diagnostic">DIAGNOSTIC</span>
          </div>
        </div>
      </div>
      <div class="context-box">
        <strong>üéØ Sympt√¥mes :</strong> Pas d'acc√®s Internet, impossible de ping les gateways<br>
        <strong>‚ö†Ô∏è Causes probables :</strong> Carte r√©seau, c√¢ble, configuration IP, firewall<br>
        <strong>üîß Temps estim√© :</strong> 5-15 minutes
      </div>
      <button onclick="filterScenario('reseau-down')" style="background: var(--urgent-color); color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
        Voir les commandes de diagnostic
      </button>
    </div>

    <div class="scenario-card">
      <div class="scenario-header">
        <div class="scenario-icon">üîí</div>
        <div>
          <h3>SSH Bloqu√© / Refus√©</h3>
          <div class="command-meta">
            <span class="tag urgent">URGENT</span>
            <span class="tag risque-moyen">RISQUE MOYEN</span>
            <span class="tag securite">S√âCURIT√â</span>
          </div>
        </div>
      </div>
      <div class="context-box">
        <strong>üéØ Sympt√¥mes :</strong> "Connection refused", timeout sur le port 22<br>
        <strong>‚ö†Ô∏è Causes probables :</strong> Service SSH down, firewall, changement de port<br>
        <strong>üîß Temps estim√© :</strong> 3-10 minutes
      </div>
      <button onclick="filterScenario('ssh-blocked')" style="background: var(--securite-color); color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;">
        Voir les commandes de diagnostic
      </button>
    </div>

    <!-- ============================ -->
    <!-- SECTION LINUX - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="linux"><i class="fab fa-linux linux-icon"></i> Linux</h2>

    <!-- Routage Linux -->
    <h3 id="routage-linux"><i class="fas fa-route"></i> Routage sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 secondes</span>
      </div>
      <pre><code># Ajouter une route
ip route add (IP address de destination)/(mask) via (IP local capable d'aller vers le r√©seau de destination)

# Ajouter une route par d√©faut
ip route add default via &lt;address-passerelle&gt;

# Rendre une route permanente (Debian/Ubuntu)
echo "192.168.10.0/24 via 192.168.60.5 dev eth0" | sudo tee -a /etc/network/interfaces

# V√©rifier la table de routage
ip route show

# Ajouter une adresse IP permanente
ip address add 192.168.1.2/24 dev eth0 sur l'interface concern√© dans /etc/network/interfaces
up ip address add 192.168.1.2/24 dev eth0 sur l'interface concern√©</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Quand une machine ne peut pas joindre un r√©seau sp√©cifique<br>
        <strong>‚ö†Ô∏è Attention :</strong> Les routes ajout√©es avec ip route sont temporaires (red√©marrage)<br>
        <strong>‚úÖ Test de succ√®s :</strong> La commande `ip route show` affiche la nouvelle route<br>
        <strong>üö® Sc√©nario :</strong> Machine ne pouvant pas acc√©der √† un sous-r√©seau sp√©cifique
      </div>
    </div>

    <!-- Configuration d'interface Linux -->
    <h3 id="config-interface-linux"><i class="fas fa-network-wired"></i> Configuration d'interface sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 secondes</span>
      </div>
      <pre><code># Lister les interfaces
ip link show, ip a

# Activer une interface
ip link set &lt;interface&gt; up

# Configurer une adresse IP
ip address add &lt;IP&gt;/&lt;masque&gt; dev &lt;interface&gt;

# V√©rifier l'adresse IP
ip address show &lt;interface&gt;</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration manuelle d'une interface r√©seau<br>
        <strong>‚ö†Ô∏è Attention :</strong> Les changements sont temporaires (red√©marrage)<br>
        <strong>‚úÖ Test de succ√®s :</strong> `ip a` montre l'interface avec la bonne IP<br>
        <strong>üö® Sc√©nario :</strong> Interface sans adresse IP ou configuration incorrecte
      </div>
    </div>

    <!-- NAT sous Linux -->
    <h3 id="nat-linux"><i class="fas fa-exchange-alt"></i> NAT sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># D√©sactiver NAT temporairement
iptables -t nat -F POSTROUTING

# Activer NAT
iptables -t nat -A POSTROUTING -s &lt;Network+Mask&gt; -o &lt;Interface&gt; -j MASQUERADE

# Activer le forwarding IP
sysctl -w net.ipv4.ip_forward=1
# Permanent: Edit /etc/sysctl.conf and set net.ipv4.ip_forward=1.

# V√©rifier le NAT
sudo iptables -t nat -L POSTROUTING -v -n --line-numbers
iptables -t nat -L -n -v

# V√©rifier le port forwarding
cat /proc/sys/net/ipv4/ip_forward

# Afficher les paquets NAT en temps r√©el
watch -n 1 'sudo iptables -t nat -L POSTROUTING -v -n'</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration d'un routeur Linux ou partage de connexion<br>
        <strong>‚ö†Ô∏è Attention :</strong> V√©rifier que le forwarding IP est activ√© (valeur 1)<br>
        <strong>‚úÖ Test de succ√®s :</strong> Les machines du r√©seau interne peuvent acc√©der √† Internet<br>
        <strong>üö® Sc√©nario :</strong> Mise en place d'un firewall/router Linux
      </div>
    </div>

    <div class="note">
        <p><strong>Alternative (for Static IPs):</strong> Use SNAT</p>
        <pre><code>iptables -t nat -A POSTROUTING -s 30.30.30.0/30 -o pnet0 -j SNAT --to-source [PUBLIC_IP]</code></pre>
    </div>

    <!-- NAT pour protocoles sp√©cifiques -->
    <h3 id="nat-protocoles"><i class="fas fa-broadcast-tower"></i> NAT pour protocoles sp√©cifiques</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 secondes</span>
      </div>
      <pre><code># Autoriser les paquets RIP (destination)
iptables -t nat -A POSTROUTING -p udp --dport 520 -j ACCEPT

# Autoriser les paquets RIP (source)
iptables -t nat -A POSTROUTING -p udp --sport 520 -j ACCEPT

# Autoriser tous les paquets
iptables -A FORWARD -i pnet0 -j ACCEPT
iptables -A FORWARD -o pnet0 -j ACCEPT</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration avanc√©e du NAT pour protocoles sp√©cifiques<br>
        <strong>‚ö†Ô∏è Attention :</strong> Bien sp√©cifier les ports et protocoles<br>
        <strong>‚úÖ Test de succ√®s :</strong> Les paquets RIP traversent le NAT<br>
        <strong>üö® Sc√©nario :</strong> Routage dynamique RIP √† travers un firewall Linux
      </div>
    </div>

    <div class="warning">
        <p><strong>Common Pitfalls:</strong></p>
        <ul>
            <li>Interface name typo: Ensure pnet0 exists (ip a or ifconfig)</li>
            <li>Missing kernel support: Verify NAT is supported (lsmod | grep iptable_nat)</li>
            <li>Firewall conflicts: Check if other rules block traffic (iptables -L)</li>
        </ul>
    </div>

    <!-- Traceroute -->
    <h3 id="traceroute-linux"><i class="fas fa-project-diagram"></i> Traceroute</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Envoyer seulement 3 paquets par saut
traceroute 8.8.8.8 probe 3

# Trouver le PID du traceroute
show processes | include traceroute

# Terminer le processus
kill &lt;PID&gt;</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Identifier o√π se situe une panne r√©seau<br>
        <strong>üîç Interpr√©tation :</strong> Le dernier saut r√©pondant indique le point de rupture<br>
        <strong>‚úÖ R√©sultat :</strong> Visualisation compl√®te du chemin r√©seau<br>
        <strong>üö® Sc√©nario :</strong> "Je peux ping certaines IP mais pas d'autres"
      </div>
    </div>

    <!-- Traitement de fichiers -->
    <h3 id="traitement-fichiers"><i class="fas fa-file-alt"></i> Traitement de fichiers sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag">‚è±Ô∏è 2 secondes</span>
      </div>
      <pre><code># Ajouter un commentaire √† la premi√®re ligne
sed -i '1i # Commentaire' /etc/hosts

# Ajouter un texte √† la premi√®re ligne
sed -i '1iTexte√† ins√©rer' /etc/hosts

# Cr√©er un fichier avec 2 lignes
echo -e "Ligne 1\nLigne 3" > fichier.txt

# Ajouter une ligne en position 2
sed -i '2iLigne 2 (ajout√©e)' fichier.txt

# Supprimer la deuxi√®me ligne
sed -i '2d' fichier.txt

# Supprimer un texte sp√©cifique
sed -i '/texte √† supprimer/d' fichier.txt

# Supprimer un bloc de lignes
sed -i '2,4d' fichier.txt

# √âdition interactive avec ed
ed -s fichier.txt <<EOF
2i
Texte ajout√© √† la ligne 2
.
w
q
EOF

# M√©thode manuelle avec head/tail
head -n 1 fichier.txt > tmp
echo "Nouvelle ligne 2" >> tmp
tail -n +2 fichier.txt >> tmp
mv tmp fichier.txt</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Modification rapide de fichiers de configuration<br>
        <strong>‚ö†Ô∏è Attention :</strong> Toujours sauvegarder avant modification avec sed -i<br>
        <strong>‚úÖ Test de succ√®s :</strong> V√©rifier le contenu du fichier apr√®s modification<br>
        <strong>üö® Sc√©nario :</strong> Correction rapide de configuration sans √©diteur
      </div>
    </div>

    <!-- Maintenance syst√®me Linux -->
    <h3 id="maintenance-linux"><i class="fas fa-tools"></i> Maintenance syst√®me sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Moderniser les d√©p√¥ts apt
apt modernize-sources

# Reconfigurer GRUB
sudo update-grub

# Nettoyer le syst√®me
sudo apt autoremove --purge

# R√©g√©n√©rer initramfs
sudo update-initramfs -u -k all

# Corriger les d√©pendances
sudo apt install -f

# V√©rifier l'espace disque
df -h /boot</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Maintenance p√©riodique du syst√®me<br>
        <strong>‚ö†Ô∏è Attention :</strong> Certaines commandes peuvent n√©cessiter un red√©marrage<br>
        <strong>‚úÖ R√©sultat :</strong> Syst√®me nettoy√© et optimis√©<br>
        <strong>üö® Sc√©nario :</strong> Maintenance mensuelle ou apr√®s mises √† jour
      </div>
    </div>

    <!-- Int√©gration Active Directory -->
    <h3 id="ad-linux"><i class="fas fa-users"></i> Int√©gration Active Directory</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Joindre un domaine AD
sudo apt install realmd sssd adcli samba-common krb5-user packagekit
sudo realm join --user=Administrateur MONDOMAINE.LOCAL

# Supprimer une machine du domaine AD
sudo realm leave --remove=/home/[username] [domain.name]</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Int√©gration d'un serveur Linux dans un domaine Windows<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> Acc√®s r√©seau au contr√¥leur de domaine<br>
        <strong>‚úÖ Test de succ√®s :</strong> Connexion avec compte de domaine r√©ussi<br>
        <strong>üö® Sc√©nario :</strong> "Int√©gration d'un serveur Linux dans l'AD d'entreprise"
      </div>
    </div>

    <!-- Scanner Virtuel Linux -->
    <h3 id="scanner-linux"><i class="fas fa-scanner"></i> Scanner Virtuel sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Utiliser un scanneur virtuel
scanimage -d "net:&lt;IP_Scanner&gt;:test:0" --format=png > fake-scan.png

# V√©rifier les p√©riph√©riques disponibles
scanimage -L</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Test de connectivit√© avec scanners r√©seau<br>
        <strong>üîç Utilisation :</strong> V√©rifier que SANE d√©tecte correctement le scanner<br>
        <strong>‚úÖ Test de succ√®s :</strong> scanimage -L liste le scanner r√©seau<br>
        <strong>üö® Sc√©nario :</strong> "Le scanner r√©seau n'est pas d√©tect√©"
      </div>
    </div>

    <!-- Diagnostic R√©seau Linux -->
    <h3 id="diagnostic-reseau-linux"><i class="fas fa-search"></i> Diagnostic R√©seau Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag urgent">URGENT</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># V√©rification des interfaces r√©seau
ip a
ip -br addr show

# V√©rification de la table de routage
ip route show
ip route get 8.8.8.8

# Test de connectivit√© de base
ping 192.168.10.1
ping 8.8.8.8
ping google.com

# Test DNS
nslookup google.com
nslookup 0.debian.pool.ntp.org

# Traceroute
traceroute -n 8.8.8.8

# Statistiques des interfaces
ip -s link show

# Connexions r√©seau actives
ss -tulpn

# Tables ARP
ip neigh show

# Informations mat√©rielles r√©seau
lshw -class network 2>/dev/null | head -20

# Pilotes r√©seau
ethtool -i enp0s10 2>/dev/null

# Bandwidth par interface
cat /proc/net/dev

# Qualit√© du signal Wi-Fi (si applicable)
iwconfig 2>/dev/null | grep -i quality

# Latence r√©seau
ping -c 3 8.8.8.8

# Script de diagnostic rapide
#!/bin/bash
echo "=== DIAGNOSTIC R√âSEAU RAPIDE ==="
ip -br addr show
ip route show
ping -c 2 8.8.8.8</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Premier diagnostic en cas de probl√®me r√©seau<br>
        <strong>üîç M√©thodologie :</strong> Suivre l'ordre des commandes du haut vers le bas<br>
        <strong>‚úÖ R√©sultat :</strong> Identification pr√©cise du point de rupture<br>
        <strong>üö® Sc√©nario :</strong> "Le r√©seau ne marche plus" - diagnostic complet
      </div>
    </div>

    <!-- Diagnostic Firewall Local -->
    <h3 id="firewall-diagnostic"><i class="fas fa-shield-alt"></i> Diagnostic Firewall Local</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 secondes</span>
      </div>
      <pre><code># V√©rifier les r√®gles iptables
sudo iptables -L -n -v
sudo iptables -S

# V√©rifier nftables
sudo nft list ruleset

# D√©sactivation temporaire du firewall
sudo iptables -F
sudo iptables -X
sudo iptables -t nat -F
sudo iptables -P INPUT ACCEPT
sudo iptables -P FORWARD ACCEPT
sudo iptables -P OUTPUT ACCEPT
sudo nft flush ruleset

# Test apr√®s d√©sactivation firewall
ping -c 3 8.8.8.8

# R√®gles firewall
sudo iptables -L 2>/dev/null | head -20

# Ports ouverts
sudo netstat -tulpn 2>/dev/null | head -20

# Services r√©seau √©coutants
sudo ss -tulpn | grep LISTEN</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Quand une connexion r√©seau est bloqu√©e inexplicablement<br>
        <strong>üîç M√©thodologie :</strong> D√©sactiver temporairement le firewall pour tester<br>
        <strong>‚ö†Ô∏è Attention :</strong> Ne pas laisser le firewall d√©sactiv√© en production !<br>
        <strong>üö® Sc√©nario :</strong> "Une application ne peut pas se connecter au r√©seau"
      </div>
    </div>

    <!-- Gestion NetworkManager -->
    <h3 id="networkmanager"><i class="fas fa-network-wired"></i> Gestion NetworkManager</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 15 secondes</span>
      </div>
      <pre><code># √âtat des connexions NetworkManager
nmcli connection show
nmcli device status

# V√©rification d√©taill√©e d'une connexion
nmcli connection show "Connexion Ethernet 1"
nmcli connection show enp0s10

# Modification configuration DNS
sudo nmcli connection modify "Connexion Ethernet 1" ipv4.dns "8.8.8.8,1.1.1.1"
sudo nmcli connection modify "Connexion Ethernet 1" ipv4.ignore-auto-dns yes
sudo nmcli connection modify "Connexion Ethernet 1" ipv4.dns-search ""

# Red√©marrage connexion
sudo nmcli connection down "Connexion Ethernet 1"
sudo nmcli connection up "Connexion Ethernet 1"

# Suppression et recr√©ation de profil
sudo nmcli connection delete "Connexion Ethernet 1"
sudo nmcli connection add type ethernet ifname enp0s10 con-name enp0s10 \
ipv4.method auto \
ipv4.dns "8.8.8.8,1.1.1.1" \
ipv4.ignore-auto-dns yes \
ipv4.dns-search "" \
connection.autoconnect yes

# Activer la nouvelle connexion
sudo nmcli connection up enp0s10

# Forcer la reconnaissance de l'interface
sudo nmcli device connect enp0s10

# Red√©marrer NetworkManager (si n√©cessaire)
sudo systemctl restart NetworkManager</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Probl√®mes de configuration r√©seau persistants<br>
        <strong>üîç R√©solution :</strong> Supprimer et recr√©er la connexion corrompue<br>
        <strong>‚úÖ Test de succ√®s :</strong> Connexion r√©seau stable avec DNS fonctionnel<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®mes DNS r√©currents ou connexion instable"
      </div>
    </div>

    <!-- Configuration Manuelle Interfaces -->
    <h3 id="config-manuelle-interfaces"><i class="fas fa-cogs"></i> Configuration Manuelle Interfaces (sans NetworkManager)</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Arr√™t NetworkManager
sudo systemctl stop NetworkManager
sudo systemctl disable NetworkManager

# Installation ifupdown
sudo apt update
sudo apt install ifupdown

# Configuration /etc/network/interfaces
sudo nano /etc/network/interfaces

# Contenu fichier interfaces :
source /etc/network/interfaces.d/*

# Interface loopback
auto lo
iface lo inet loopback

# Interface ethernet en DHCP
auto enp0s10
iface enp0s10 inet dhcp

# OU configuration statique
# auto enp0s10
# iface enp0s10 inet static
#     address 192.168.10.4/24
#     gateway 192.168.10.1
#     dns-nameservers 8.8.8.8 1.1.1.1

# Configuration DNS manuelle
sudo nano /etc/resolv.conf

# Contenu resolv.conf :
nameserver 8.8.8.8
nameserver 1.1.1.1
options timeout:2 attempts:1

# Rendre resolv.conf immuable
sudo chattr +i /etc/resolv.conf

# Activation service networking
sudo systemctl enable networking
sudo systemctl restart networking

# Gestion manuelle interface
sudo ifdown enp0s10
sudo ifup enp0s10</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Serveurs n√©cessitant une configuration r√©seau statique fiable<br>
        <strong>‚ö†Ô∏è Attention :</strong> NetworkManager ne g√®re plus la configuration<br>
        <strong>‚úÖ Avantage :</strong> Configuration stable et pr√©visible<br>
        <strong>üö® Sc√©nario :</strong> "Serveur en production n√©cessitant IP fixe stable"
      </div>
    </div>

    <!-- R√©solution Probl√®mes Sp√©cifiques -->
    <h3 id="resolution-problemes"><i class="fas fa-wrench"></i> R√©solution Probl√®mes Sp√©cifiques</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Suppression route APIPA probl√©matique
sudo ip route del 169.254.0.0/16 dev enp0s10

# Nettoyage interface en cas de conflit
sudo ip link set enp0s10 down
sudo ip addr flush dev enp0s10
sudo ip route flush dev enp0s10

# Renouvellement DHCP
sudo dhclient -r enp0s10
sudo dhclient enp0s10

# Configuration IP manuelle temporaire
sudo ip addr add 192.168.10.20/24 dev enp0s10
sudo ip route add default via 192.168.10.1

# Supprimer une IP secondaire
sudo ip addr del 192.168.30.8/24 dev enp0s10

# Appliquer Netplan
sudo netplan generate && sudo netplan apply

# Configurer IP fixe avec NetworkManager
sudo nmcli connection modify 'enp0s10' ipv4.method manual ipv4.addresses 192.168.30.6/24 ipv4.gateway 192.168.30.1 ipv4.dns '8.8.8.8,8.8.4.4'

# Configurer IP fixe avec Netplan
sudo cat > /etc/netplan/01-network.yaml << 'EOF'
network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s10:
      dhcp4: false
      addresses: [192.168.30.6/24]
      gateway4: 192.168.30.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
EOF

# Script de correction IP double
#!/bin/bash
INTERFACE=${1:-enp0s10}
MAIN_IP=${2:-192.168.30.6}
sudo ip addr flush dev $INTERFACE
sudo ip addr add $MAIN_IP/24 dev $INTERFACE
sudo systemctl restart systemd-networkd</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Probl√®mes r√©seau complexes ou configurations corrompues<br>
        <strong>üîç Diagnostic :</strong> Commencer par `ip a` pour voir l'√©tat actuel<br>
        <strong>‚ö†Ô∏è Attention :</strong> Certaines commandes peuvent couper la connexion temporairement<br>
        <strong>üö® Sc√©nario :</strong> "Interface avec multiples IP ou configuration r√©seau corrompue"
      </div>
    </div>

    <!-- R√©initialisation Compl√®te -->
    <h3 id="reinitialisation-reseau"><i class="fas fa-redo"></i> R√©initialisation Compl√®te</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Arr√™t complet services r√©seau
sudo systemctl stop NetworkManager
sudo systemctl stop networking
sudo systemctl stop systemd-networkd

# Nettoyer les configurations existantes
sudo rm -rf /var/lib/NetworkManager/*

# Nettoyer l'interface manuellement
sudo ip link set enp0s10 down
sudo ip addr flush dev enp0s10
sudo ip route flush dev enp0s10

# Red√©marrer les services
sudo systemctl start NetworkManager
sudo systemctl enable NetworkManager

# Laisser NetworkManager d√©tecter automatiquement
sudo nmcli device connect enp0s10

# Configuration DNS manuelle
echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf
echo "nameserver 1.1.1.1" | sudo tee -a /etc/resolv.conf

# Rendre le DNS permanent
sudo chattr +i /etc/resolv.conf
# Pour d√©bloquer plus tard : sudo chattr -i /etc/resolv.conf</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Quand rien d'autre ne fonctionne - dernier recours<br>
        <strong>‚ö†Ô∏è Impact :</strong> Perte temporaire de connectivit√© r√©seau<br>
        <strong>‚úÖ R√©sultat :</strong> Configuration r√©seau compl√®tement r√©initialis√©e<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®mes r√©seau persistants apr√®s toutes les tentatives"
      </div>
    </div>

    <!-- Diagnostic Avanc√© -->
    <h3 id="diagnostic-avance"><i class="fas fa-search"></i> Diagnostic Avanc√©</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Capture paquets sortants
sudo tcpdump -i enp0s10 host 192.168.10.4

# V√©rification processus r√©seau
ps aux | grep -E "(dhclient|NetworkManager)"

# Logs syst√®me
sudo journalctl -u NetworkManager -f
sudo journalctl -u networking -f

# V√©rification fichiers configuration
ls -la /etc/network/interfaces.d/
cat /etc/resolv.conf

# Traceroute pour voir o√π √ßa bloque
traceroute -n 8.8.8.8

# V√©rifier les processus r√©seau
ss -tuln

# V√©rifier les logs syst√®me
sudo journalctl -u NetworkManager -f

# V√©rifier les logs du noyau
dmesg | grep -i network

# Test HTTP/HTTPS
curl -I http://google.com
curl -I https://google.com

# Test connectivit√© interm√©diaire
ping 192.168.10.1  # Switch L3
ping 192.168.1.1   # pfSense

# V√©rification tables ARP
arp -n

# Test ports sp√©cifiques
nc -vz 192.168.10.1 22
nc -vz 192.168.1.1 443

# Baux DHCP
cat /var/lib/dhcp/dhclient.*.leases 2>/dev/null | grep "fixed-address" | head -5

# V√©rifier la configuration Netplan
cat /etc/netplan/*.yaml 2>/dev/null

# Serveurs DNS utilis√©s
systemd-resolve --status 2>/dev/null

# Interfaces virtuelles
ip link show type bridge 2>/dev/null

# VLANs
ip link show | grep "@"

# Sauvegarder configuration r√©seau
sudo cp /etc/netplan/*.yaml ~/backup_network/ 2>/dev/null || true
sudo cp /etc/network/interfaces ~/backup_network/ 2>/dev/null || true
sudo nmcli connection show > ~/backup_network/nmcli_connections.txt 2>/dev/null || true

# R√©seaux Docker
docker network ls 2>/dev/null | head -10</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic approfondi de probl√®mes complexes<br>
        <strong>üîç M√©thodologie :</strong> Analyser couche par couche (physique ‚Üí application)<br>
        <strong>‚úÖ R√©sultat :</strong> Identification pr√©cise de l'origine du probl√®me<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®me r√©seau intermittent ou complexe n√©cessitant analyse approfondie"
      </div>
    </div>

    <!-- V√©rification r√©seau Linux -->
    <h3 id="verification-reseau-linux"><i class="fab fa-linux linux-icon"></i> V√©rification r√©seau sous Linux</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># V√©rifier un port distant
nc -vz IP_DU_SERVEUR 631

# Connecter des conteneurs Docker √† un bridge
docker network connect bridge guacamole
docker network connect bridge guacamole_db
docker network connect bridge guacd</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> V√©rification de connectivit√© vers des services sp√©cifiques<br>
        <strong>üîç Utilisation :</strong> Tester si un port est accessible depuis la machine<br>
        <strong>‚úÖ Test de succ√®s :</strong> "Connection succeeded" ou "succeeded"<br>
        <strong>üö® Sc√©nario :</strong> "Un service ne r√©pond pas sur le r√©seau"
      </div>
    </div>

    <!-- Partages r√©seau Linux -->
    <h2><i class="fab fa-linux linux-icon"></i> Partages r√©seau sous Linux</h2>

    <!-- Montage NFS -->
    <h3 id="nfs-linux"><i class="fas fa-share-alt"></i> Montage de partage NFS</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Installer les paquets NFS
sudo apt install nfs-common

# V√©rifier les partages disponibles sur le serveur
showmount -e &lt;IP Serveur NFS&gt;

# Cr√©er un point de montage sur la machine locale
mkdir -p /mnt/truenas_backup

# Monter le partage
mount -t nfs 192.168.100.10:/mnt/tank/vmbackups /mnt/truenas_backup

# V√©rifier le montage
df -h
mount | grep nfs

# Tester l'acc√®s
ls /mnt/truenas_backup

# Monter automatiquement au d√©marrage
nano /etc/fstab
# Ajouter: 192.168.100.10:/mnt/tank/vmbackups  /mnt/truenas_backup  nfs  rw,soft,nolock  0  0

# D√©monter le partage local
umount /mnt/truenas_backup

# Alternative avec autofs
sudo apt install autofs
# √âditer /etc/auto.master: /mnt/truenas  /etc/auto.truenas  --timeout=60
# Cr√©er /etc/auto.truenas: backup  -fstype=nfs,rw,soft,nolock  192.168.100.10:/mnt/tank/vmbackups
sudo systemctl restart autofs
ls /mnt/truenas/backup</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Acc√®s √† des partages NFS (TrueNAS, serveurs Linux)<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> Serveur NFS accessible et partage configur√©<br>
        <strong>‚úÖ Test de succ√®s :</strong> `df -h` montre le partage mont√©<br>
        <strong>üö® Sc√©nario :</strong> "Acc√®s √† un partage TrueNAS depuis un serveur Linux"
      </div>
    </div>

    <!-- Montage SMB -->
    <h3 id="smb-linux"><i class="fas fa-share-alt"></i> Montage de partage SMB</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Connecter au serveur SMB et afficher les partages
smbclient -L &lt;IP Serveur SMB&gt; -U &lt;Utilisateur d'acc√®s SMB Partage&gt;

# Monter un partage SMB
sudo mount -t cifs -o username=&lt;Nom Utilisateur&gt;,password=&lt;Mot de passe utilisateur&gt;,vers=3.0,uid=$(id -u),gid=$(id -g),nosharesock //IP_Serveur_SMB/Nom_Partage /mnt/truenas_storage</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Acc√®s √† des partages Windows ou SMB<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> √âviter de mettre le mot de passe en clair dans les scripts<br>
        <strong>‚úÖ Test de succ√®s :</strong> Acc√®s en lecture/√©criture au partage mont√©<br>
        <strong>üö® Sc√©nario :</strong> "Acc√®s √† un partage Windows depuis Linux"
      </div>
    </div>

    <!-- SSH et SFTP Linux -->
    <h2><i class="fab fa-linux linux-icon"></i> SSH et SFTP sous Linux</h2>

    <!-- Gestion cl√©s SSH -->
    <h3 id="ssh-keys"><i class="fas fa-key"></i> Gestion des cl√©s SSH</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Supprimer une cl√© du known_hosts
ssh-keygen -f '/root/.ssh/known_hosts' -R 'IP_Host'

# G√©n√©rer une nouvelle cl√© SSH
ssh-keygen -t rsa -b 4096</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Probl√®mes de connexion SSH d√ªs √† des changements d'h√¥tes<br>
        <strong>‚ö†Ô∏è Attention :</strong> Supprime l'entr√©e pour l'h√¥te sp√©cifi√© de known_hosts<br>
        <strong>‚úÖ R√©sultat :</strong> R√©solution des erreurs "Host key verification failed"<br>
        <strong>üö® Sc√©nario :</strong> "Erreur Host key changed lors de la connexion SSH"
      </div>
    </div>

    <!-- Serveur SFTP -->
    <h3 id="sftp-server"><i class="fas fa-server"></i> Serveur SFTP</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Installation du serveur SFTP sur Debian
sudo apt update 
sudo apt install vsftpd
sudo systemctl enable vsftpd
sudo systemctl start vsftpd

# Configuration de base
sudo nano /etc/vsftpd.conf
# Ajouter:
listen=YES
anonymous_enable=NO
local_enable=YES
write_enable=YES
chroot_local_user=YES
user_sub_token=$USER
local_root=/home/$USER/ftp
pasv_min_port=40000
pasv_max_port=50000

# Cr√©er un utilisateur et les r√©pertoires
sudo adduser ftpuser
mkdir -p /home/ftpuser/ftp/files
chmod 550 /home/ftpuser/ftp
sudo systemctl restart vsftpd

# Tester la connexion FTP
ftp adresse_ip_serveur</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place d'un serveur de transfert de fichiers s√©curis√©<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Configurer correctement les permissions et le chroot<br>
        <strong>‚úÖ Test de succ√®s :</strong> Connexion FTP r√©ussie depuis un client<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un serveur de fichiers accessible par FTP"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION WINDOWS - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="windows"><i class="fab fa-windows windows-icon"></i> Windows</h2>

    <!-- Routage Windows -->
    <h3 id="routage-windows"><i class="fas fa-route"></i> Routage sous Windows (Permanent)</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 secondes</span>
      </div>
      <pre><code># Ajouter une route permanente
route add -p (IP addres de destination) MASK (ex:255.255.255.0) (IP local capable d'aller vers le r√©seau de destination)

# Afficher la table de routage
route print

# Supprimer une route
route delete (IP destination)</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Acc√®s √† des sous-r√©seaux sp√©cifiques depuis Windows<br>
        <strong>‚ö†Ô∏è Attention :</strong> L'option -p rend la route permanente (red√©marrage)<br>
        <strong>‚úÖ Test de succ√®s :</strong> La route appara√Æt dans `route print`<br>
        <strong>üö® Sc√©nario :</strong> "Windows ne peut pas joindre un r√©seau VLAN sp√©cifique"
      </div>
    </div>

    <!-- NAT sous Windows -->
    <h3 id="nat-windows"><i class="fas fa-exchange-alt"></i> NAT sous Windows</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Activer le routage IP
Set-NetIPInterface -InterfaceAlias "Ethernet" -Forwarding Enabled

# Configurer le NAT pour un r√©seau
New-NetNat -Name "SwitchAccess" -InternalIPInterfaceAddressPrefix "192.168.10.0/24"

# V√©rifier le NAT
Get-NetNat
get-NetNatStaticMappingetFirewallRule -DisplayName "Allow_Linux_Subnet" -RemoteAddress 192.168.60.4 -Action Allow
Get-NetNatTransitionConfiguration

# Proxy SSH via Windows
ssh -J user@&lt;IP_Windows&gt; user@&lt;IP_Machine_Adminstr√©e&gt;

# Tester l'acc√®s SSH
Test-NetConnection 10.10.2.2 -Port 22</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration d'un serveur Windows comme routeur<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> R√¥le "Routing" install√© sur Windows Server<br>
        <strong>‚úÖ Test de succ√®s :</strong> Machines du r√©seau interne acc√®dent √† Internet<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un routeur Windows pour un lab"
      </div>
    </div>

    <!-- R√©paration r√©seau Windows -->
    <h3 id="reparation-reseau-windows"><i class="fas fa-tools"></i> R√©paration r√©seau Windows</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># R√©parer la pile OSI - probl√®me de connexion internet
netsh int ip reset              # R√©initialiser les interfaces r√©seau
netsh winsock reset             # R√©initialiser Windows Sockets
ipconfig /release               # Lib√©rer l'adresse IP 
ipconfig /renew                 # Redemander l'adresse IP

# Trouver l'identifiant du client
ipconfig /all                   # Regarder "ID physique" ou "Adresse physique"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Probl√®mes r√©seau inexplicables sous Windows<br>
        <strong>üîç Effet :</strong> R√©initialise compl√®tement la stack r√©seau Windows<br>
        <strong>‚ö†Ô∏è Attention :</strong> N√©cessite un red√©marrage pour √™tre totalement efficace<br>
        <strong>üö® Sc√©nario :</strong> "Windows ne se connecte plus au r√©seau sans raison apparente"
      </div>
    </div>

    <!-- Partages r√©seau Windows -->
    <h2><i class="fab fa-windows windows-icon"></i> Partages r√©seau sous Windows</h2>

    <!-- Montage NFS Windows -->
    <h3 id="nfs-windows"><i class="fas fa-share-alt"></i> Montage de partage NFS</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Activer le client NFS sous Windows
# Sur Windows 10/11 Pro/Enterprise :
# - Ouvrez "Param√®tres" ‚Üí "Applications" ‚Üí "Fonctionnalit√©s facultatives"
# - Cherchez "Services pour NFS" et installez "Client pour NFS"

# Monter le partage NFS via l'invite de commandes (admin)
mount -o anon 192.168.100.10:/mnt/tank/vmbackups Z:

# Options avanc√©es avec authentification
mount -o user=mon_user,password=mon_mdp 192.168.100.10:/mnt/tank/vmbackups Z:

# D√©monter
umount Z:</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Acc√®s √† des partages NFS depuis Windows<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> Fonctionnalit√© "Client pour NFS" install√©e<br>
        <strong>‚úÖ Test de succ√®s :</strong> Le lecteur Z: montre le contenu du partage<br>
        <strong>üö® Sc√©nario :</strong> "Acc√®s √† un partage TrueNAS depuis Windows"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION CISCO - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="cisco"><i class="fas fa-network-wired cisco-icon"></i> Cisco</h2>

    <!-- RIP Cisco -->
    <h3 id="rip-cisco"><i class="fas fa-route"></i> RIP Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 secondes</span>
      </div>
      <pre><code># Afficher les routes RIP
show ip route rip

# Afficher les voisins RIP
show ip rip neighbors

# D√©sactiver RIP sur toutes les interfaces sauf celles n√©cessaires
passive-interface default

# Activer RIP sur une interface sp√©cifique
int &lt;Interface&gt;
no passive-interface

# Debug RIP
debug ip rip

# Afficher la configuration RIP
show run | section router rip

# Effacer la table de routage
clear ip route *

# Afficher la base de donn√©es RIP
show ip rip database

# Modifier la m√©trique RIP
int &lt;Interface&gt;
ip rip metric 1

# D√©sactiver RIP sur une interface
int &lt;Interface&gt;
no ip rip send

# Forcer les broadcasts RIP v2
int &lt;Interface&gt;
ip rip v2-broadcast

# D√©sactiver le debug
undebug all</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic et configuration du protocole RIP<br>
        <strong>üîç Monitoring :</strong> `show ip route rip` pour voir les routes apprises<br>
        <strong>‚ö†Ô∏è Attention :</strong> Debug RIP peut g√©n√©rer beaucoup de logs en production<br>
        <strong>üö® Sc√©nario :</strong> "Les routes RIP ne sont pas propag√©es correctement"
      </div>
    </div>

    <!-- Multicast Cisco -->
    <h3 id="multicast-cisco"><i class="fas fa-broadcast-tower"></i> Multicast Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Activer le multicast
configure terminal => ip multicast-routing

# Activer PIM
int &lt;Interface&gt;
ip pim sparse-mode

# Utiliser IGMPv2
ip igmp version 2

# Afficher la table multicast
show ip mroute

# Lister les groupes joints
show ip igmp groups

# Debug IGMP
debug ip igmp

# Lister les interfaces PIM-actives
show ip pim interface

# V√©rifier la RPF
show ip rpf 224.0.0.9

# Partager les r√©seaux locaux connect√©s
redistribute connected</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration de multicast pour vid√©o/audio<br>
        <strong>üîç V√©rification :</strong> `show ip mroute` pour voir les √©tats multicast<br>
        <strong>‚ö†Ô∏è Complexit√© :</strong> Protocol avanc√© n√©cessitant bonne compr√©hension<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place de diffusion vid√©o multicast"
      </div>
    </div>

    <!-- Configuration SFTP Cisco -->
    <h3 id="sftp-cisco"><i class="fas fa-network-wired cisco-icon"></i> Configuration SFTP Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Limiter l'acc√®s SSH √† une IP sp√©cifique
access-list 10 permit 192.168.1.100
line vty 0 4
 access-class 10 in
exit

# Configurer SFTP
ip ssh server algorithm sftp
ip scp server enable

# Lister les r√©pertoires disponibles
dir flash:
dir usbflash0:
dir nvram:

# Commandes SFTP
sftp admin@&lt;IP&gt;
sftp> ls
sftp> cd flash:
sftp> get running-config
sftp> put mon_fichier.txt</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Transfert s√©curis√© de fichiers vers/depuis un √©quipement Cisco<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Restreindre l'acc√®s SSH aux IP autoris√©es<br>
        <strong>‚úÖ Avantage :</strong> Alternative s√©curis√©e √† TFTP<br>
        <strong>üö® Sc√©nario :</strong> "Sauvegarde s√©curis√©e de la configuration d'un switch Cisco"
      </div>
    </div>

    <!-- Configuration DHCP Cisco -->
    <h3 id="dhcp-cisco"><i class="fas fa-network-wired cisco-icon"></i> Configuration DHCP Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Exclure les adresses qui ne doivent pas √™tre distribu√©es
ip dhcp excluded-address &lt;IP D√©but&gt; &lt;IP FIN&gt;

# R√©server une adresse IP pour un h√¥te pr√©cis
ip dhcp pool HOST-PC1
host 192.168.10.50 255.255.255.0
client-identifier 0100.1A2B.3C4D.5E  # 01 + MAC address
client-name PC-SERVEUR
default-router 192.168.10.1
dns-server 8.8.8.8 10.10.1.2
domain-name home.lab

# Alternative avec MAC address directement
ip dhcp pool HOST-PC2
hardware-address aaaa.bbbb.cccc
client-name PC-SERVEUR
default-router 192.168.1.1
dns-server 8.8.8.8 8.8.4.4

# Gestion des pools DHCP
clear ip dhcp binding 192.168.x.x        # Supprimer une adresse attribu√©e
show ip dhcp pool                        # Afficher les adresses attribu√©es
show ip source binding                   # Afficher les bindings statiques</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration d'un serveur DHCP sur routeur Cisco<br>
        <strong>‚ö†Ô∏è Format important :</strong> client-identifier n√©cessite "01" + MAC en hexa<br>
        <strong>‚úÖ Test de succ√®s :</strong> Client re√ßoit l'IP r√©serv√©e<br>
        <strong>üö® Sc√©nario :</strong> "R√©servation d'IP pour serveurs dans un r√©seau"
      </div>
    </div>

    <div class="note">
        <p><strong>Format important pour client-identifier :</strong></p>
        <ul>
            <li>Pr√©fixe "01" pour le type Ethernet</li>
            <li>MAC address en format groupe de 4 chiffres hexa</li>
            <li>Exemple : MAC aa:bb:cc:dd:ee:ff ‚Üí 01aabb.ccddee.ff</li>
        </ul>
    </div>

    <!-- Configuration SNMP Cisco -->
    <h3 id="snmp-cisco"><i class="fas fa-chart-bar"></i> Configuration SNMP Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Activation SNMP sur Cisco IOS
enable
configure terminal
snmp-server community public RO
snmp-server community private RW
snmp-server host [IP-du-manager] traps version 2c public
snmp-server enable traps
exit
write memory</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration du monitoring SNMP pour GLPI/Zabbix<br>
        <strong>üîç V√©rification :</strong> Test SNMP depuis le serveur de monitoring<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Changer les communaut√©s public/private en production<br>
        <strong>üö® Sc√©nario :</strong> "Int√©gration d'un switch Cisco dans GLPI"
      </div>
    </div>

    <!-- Tables MAC et ARP Cisco -->
    <h3 id="mac-arp-cisco"><i class="fas fa-network-wired cisco-icon"></i> Tables MAC et ARP Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 secondes</span>
      </div>
      <pre><code># Tables ARP
show ip arp                              # Afficher la table ARP compl√®te
show ip arp interface vlan 10           # Filtrer par interface
show ip arp &lt;IP&gt;                        # Rechercher une IP sp√©cifique

# Tables MAC
show mac address-table                   # Afficher toutes les MAC addresses apprises
show mac address-table dynamic           # Afficher les MAC addresses en temps r√©el
show mac address-table interface gigabitethernet 1/0/5   # Filtrer par interface
show mac address-table vlan 10           # Filtrer par VLAN
show mac address-table address aaaa.bbbb.cccc   # Rechercher une MAC sp√©cifique

# Gestion des entr√©es
clear mac address-table dynamic interface gigabitethernet 1/0/5   # Vider une entr√©e MAC

# Monitoring
show interfaces counters                 # Voir les compteurs par interface
show mac address-table dynamic | include Gi1/0/5   # Monitoring en temps r√©el</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic de connectivit√© r√©seau au niveau switch<br>
        <strong>üîç Utilisation :</strong> Identifier sur quel port une machine est connect√©e<br>
        <strong>‚úÖ R√©sultat :</strong> Localisation pr√©cise des √©quipements sur le r√©seau<br>
        <strong>üö® Sc√©nario :</strong> "Trouver sur quel port est connect√©e une machine sp√©cifique"
      </div>
    </div>

    <!-- Commandes Cisco diverses -->
    <h3 id="cisco-divers"><i class="fas fa-network-wired cisco-icon"></i> Commandes Cisco diverses</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Afficher les interfaces VLAN
show ip int bri | include vlan

# Afficher les d√©tails des VLANs
show vlan brief

# Afficher la table ARP
show arp

# Afficher les listes d'acc√®s
show access-lists

# V√©rifier la connectivit√© physique
show cdp neighbors

# Filtrer la table ARP
show arp | inculde &lt;IP&gt;

# Afficher le switch root
show spanning-tree root

# Afficher une route sp√©cifique
show ip route 224.0.0.0/24

# Configurer un tunnel
int Tunnel0
tunnel source &lt;Interface&gt;
tunnel destination &lt;IP de l'autre √©quipement ou Tunnel sur l'autre&gt; 
keepalive
ip address &lt;IP&gt; &lt;MASK&gt;
no ip split-horizon
ip rip advertise &lt;Network&gt;
no shut</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Commandes g√©n√©rales pour diagnostic et configuration<br>
        <strong>üîç Utilisation :</strong> V√©rification rapide de l'√©tat des interfaces et VLANs<br>
        <strong>‚úÖ R√©sultat :</strong> Vue d'ensemble de l'√©tat du switch/routeur<br>
        <strong>üö® Sc√©nario :</strong> "Diagnostic g√©n√©ral d'un √©quipement Cisco"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION POWERSHELL - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="powershell"><i class="fas fa-terminal powershell-icon"></i> PowerShell</h2>

    <!-- Administration Windows Server -->
    <h3 id="admin-windows-server"><i class="fas fa-server"></i> Administration Windows Server avec PowerShell</h3>

    <!-- Installation et configuration -->
    <h4 id="ps-install-config"><i class="fas fa-download"></i> 1. Installation et configuration initiale</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># V√©rifier la version de Windows
Get-ComputerInfo | Select-Object WindowsProductName, WindowsVersion, OsHardwareAbstractionLayer

# Activer le r√¥le de serveur (ex: AD DS)
Install-WindowsFeature AD-Domain-Services -IncludeManagementTools

# Configurer un nouveau contr√¥leur de domaine
Install-ADDSForest -DomainName "corp.example.com" -DomainNetbiosName "CORP" -InstallDns

# Red√©marrer apr√®s installation
Restart-Computer -Force</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Installation initiale d'un serveur Windows<br>
        <strong>‚ö†Ô∏è Attention :</strong> Red√©marrage n√©cessaire apr√®s installation AD DS<br>
        <strong>‚úÖ Test de succ√®s :</strong> Serveur rejoint le domaine et services d√©marr√©s<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un nouveau contr√¥leur de domaine"
      </div>
    </div>

    <!-- Gestion utilisateurs et groupes AD -->
    <h4 id="ps-ad-users"><i class="fas fa-users"></i> 2. Gestion des utilisateurs et groupes AD</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Cr√©er un nouvel utilisateur
New-ADUser -Name "Jean Dupont" -GivenName "Jean" -Surname "Dupont" `
            -SamAccountName "jdupont" -UserPrincipalName "jdupont@corp.example.com" `
            -Path "OU=Utilisateurs,DC=corp,DC=example,DC=com" -AccountPassword (ConvertTo-SecureString "P@ssw0rd" -AsPlainText -Force) `
            -Enabled $true

# Modifier un utilisateur
Set-ADUser -Identity jdupont -Office "Paris" -Department "IT" -Title "Administrateur Syst√®me"

# Cr√©er un groupe et ajouter des membres
New-ADGroup -Name "Admins IT" -GroupScope Global -Path "OU=Groupes,DC=corp,DC=example,DC=com"
Add-ADGroupMember -Identity "Admins IT" -Members jdupont

# Lister tous les utilisateurs d'une OU
Get-ADUser -Filter * -SearchBase "OU=Utilisateurs,DC=corp,DC=example,DC=com" | Select Name,SamAccountName</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion automatis√©e des utilisateurs Active Directory<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> √âviter les mots de passe en clair dans les scripts<br>
        <strong>‚úÖ Avantage :</strong> Automatisation de la cr√©ation de comptes en masse<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation de 50 comptes utilisateurs pour un nouveau service"
      </div>
    </div>

    <!-- Gestion strat√©gies de groupe -->
    <h4 id="ps-gpo"><i class="fas fa-cogs"></i> 3. Gestion des strat√©gies de groupe (GPO)</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Cr√©er une nouvelle GPO
New-GPO -Name "Verrouillage Station" -Comment "Strat√©gie de s√©curit√© de base"

# Lier une GPO √† une OU
New-GPLink -Name "Verrouillage Station" -Target "OU=Utilisateurs,DC=corp,DC=example,DC=com"

# Modifier une GPO
Set-GPRegistryValue -Name "Verrouillage Station" -Key "HKLM\Software\Microsoft\Windows\CurrentVersion\Policies\System" `
                    -ValueName "DisableTaskMgr" -Type DWord -Value 1

# Forcer la mise √† jour des GPO sur un client
Invoke-GPUpdate -Computer "CLIENT01" -Force</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation de la gestion des GPO<br>
        <strong>‚ö†Ô∏è Test :</strong> Toujours tester les GPO sur un OU de test d'abord<br>
        <strong>‚úÖ Avantage :</strong> D√©ploiement coh√©rent des politiques de s√©curit√©<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement de politiques de s√©curit√© sur tous les postes"
      </div>
    </div>

    <!-- Gestion du stockage -->
    <h4 id="ps-storage"><i class="fas fa-database"></i> 4. Gestion du stockage</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Lister les disques disponibles
Get-Disk

# Initialiser un nouveau disque
Initialize-Disk -Number 1 -PartitionStyle GPT

# Cr√©er une partition
New-Partition -DiskNumber 1 -UseMaximumSize -DriveLetter D

# Formater le volume
Format-Volume -DriveLetter D -FileSystem NTFS -NewFileSystemLabel "Donn√©es" -Confirm:$false

# Configurer un quota de disque
New-FsrmQuota -Path "D:\Partage" -Size 5GB -Description "Limite 5GB par utilisateur"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des disques et partitions Windows<br>
        <strong>‚ö†Ô∏è Attention :</strong> Le formatage efface toutes les donn√©es<br>
        <strong>‚úÖ Avantage :</strong> Automatisation de l'ajout de stockage<br>
        <strong>üö® Sc√©nario :</strong> "Ajout d'un nouveau disque √† un serveur de fichiers"
      </div>
    </div>

    <!-- Surveillance et maintenance -->
    <h4 id="ps-monitoring"><i class="fas fa-chart-line"></i> 5. Surveillance et maintenance</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># V√©rifier l'espace disque
Get-Volume | Select DriveLetter,FileSystemLabel,SizeRemaining,Size

# Analyser les √©v√©nements syst√®me
Get-EventLog -LogName System -Newest 50 | Where-Object {$_.EntryType -eq "Error"}

# Planifier une t√¢che
$action = New-ScheduledTaskAction -Execute "powershell.exe" -Argument "-File D:\scripts\cleanup.ps1"
$trigger = New-ScheduledTaskTrigger -Daily -At 2am
Register-ScheduledTask -TaskName "Nettoyage nocturne" -Action $action -Trigger $trigger -User "SYSTEM"

# V√©rifier les services critiques
Get-Service | Where-Object {$_.Status -ne "Running" -and $_.StartType -eq "Automatic"}</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Monitoring quotidien des serveurs Windows<br>
        <strong>üîç Routine :</strong> √Ä ex√©cuter r√©guli√®rement pour la maintenance proactive<br>
        <strong>‚úÖ Avantage :</strong> D√©tection pr√©coce des probl√®mes<br>
        <strong>üö® Sc√©nario :</strong> "V√©rification quotidienne de l'√©tat des serveurs"
      </div>
    </div>

    <!-- Administration DHCP et DNS -->
    <h3 id="ps-dhcp-dns"><i class="fas fa-terminal powershell-icon"></i> Administration DHCP et DNS sous Windows Server</h3>

    <!-- Installation r√¥les -->
    <h4 id="ps-roles-install"><i class="fas fa-network-wired"></i> 1. Installation des r√¥les DHCP et DNS</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Installer les r√¥les DHCP et DNS
Install-WindowsFeature DHCP,DNS -IncludeManagementTools

# Configurer le serveur DHCP apr√®s installation
Add-DhcpServerInDC -DnsName "dc1.corp.example.com" -IPAddress 192.168.1.1

# Red√©marrer si n√©cessaire
Restart-Computer -Force</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Installation des services r√©seau sur Windows Server<br>
        <strong>‚ö†Ô∏è Attention :</strong> Red√©marrage possible apr√®s installation<br>
        <strong>‚úÖ Test de succ√®s :</strong> Services DHCP et DNS d√©marr√©s et fonctionnels<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un serveur avec services r√©seau"
      </div>
    </div>

    <!-- Configuration DHCP -->
    <h4 id="ps-dhcp-config"><i class="fas fa-dhcp"></i> 2. Configuration DHCP de base</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Cr√©er une √©tendue DHCP
Add-DhcpServerv4Scope -Name "R√©seau Principal" `
                      -StartRange 192.168.1.100 -EndRange 192.168.1.200 `
                      -SubnetMask 255.255.255.0 -State Active

# Configurer les options de l'√©tendue
Set-DhcpServerv4OptionValue -ScopeId 192.168.1.0 `
                           -DnsServer 192.168.1.1, 192.168.1.2 `
                           -Router 192.168.1.1 `
                           -DnsDomain "corp.example.com"

# Activer les adresses MAC r√©serv√©es
Add-DhcpServerv4Reservation -ScopeId 192.168.1.0 `
                           -IPAddress 192.168.1.50 `
                           -ClientId "01-23-45-67-89-AB" `
                           -Description "Serveur d'impression"

# Configurer les plages d'exclusion
Add-DhcpServerv4ExclusionRange -ScopeId 192.168.1.0 `
                              -StartRange 192.168.1.1 `
                              -EndRange 192.168.1.15</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration initiale d'un serveur DHCP<br>
        <strong>‚ö†Ô∏è Planification :</strong> Bien d√©finir les plages d'IP avant configuration<br>
        <strong>‚úÖ Test de succ√®s :</strong> Client re√ßoit une IP de la plage configur√©e<br>
        <strong>üö® Sc√©nario :</strong> "Mise en service d'un nouveau serveur DHCP"
      </div>
    </div>

    <!-- Gestion avanc√©e DHCP -->
    <h4 id="ps-dhcp-advanced"><i class="fas fa-tasks"></i> 3. Gestion avanc√©e DHCP</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Afficher toutes les √©tendues DHCP
Get-DhcpServerv4Scope

# Afficher les baux actifs
Get-DhcpServerv4Lease -ScopeId 192.168.1.0

# Supprimer un bail sp√©cifique
Remove-DhcpServerv4Lease -IPAddress 192.168.1.105

# Sauvegarder la configuration DHCP
Backup-DhcpServer -Path "C:\DHCP_Backup\" -Force

# Restaurer la configuration DHCP
Restore-DhcpServer -Path "C:\DHCP_Backup\" -Force

# Migrer un serveur DHCP
Export-DhcpServer -File "C:\DHCP_Export.xml" -Leases
Import-DhcpServer -File "C:\DHCP_Export.xml" -Leases</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Maintenance et gestion courante du DHCP<br>
        <strong>üîç Routine :</strong> Sauvegarder r√©guli√®rement la configuration<br>
        <strong>‚úÖ Bonne pratique :</strong> Avoir des sauvegardes avant modifications<br>
        <strong>üö® Sc√©nario :</strong> "Migration d'un serveur DHCP vers un nouveau serveur"
      </div>
    </div>

    <!-- Configuration DNS -->
    <h4 id="ps-dns-config"><i class="fas fa-globe"></i> 4. Configuration DNS de base</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Cr√©er une zone DNS principale
Add-DnsServerPrimaryZone -Name "corp.example.com" `
                        -ZoneFile "corp.example.com.dns" `
                        -DynamicUpdate Secure

# Cr√©er une zone DNS inverse
Add-DnsServerPrimaryZone -NetworkId "192.168.1.0/24" `
                        -ZoneFile "1.168.192.in-addr.arpa.dns"

# Ajouter un enregistrement A
Add-DnsServerResourceRecordA -Name "serveur1" `
                           -ZoneName "corp.example.com" `
                           -IPv4Address "192.168.1.10" `
                           -CreatePtr

# Ajouter un enregistrement CNAME
Add-DnsServerResourceRecordCName -Name "www" `
                               -HostNameAlias "serveur1.corp.example.com" `
                               -ZoneName "corp.example.com"

# Ajouter un enregistrement MX
Add-DnsServerResourceRecordMX -Preference 10 `
                             -Name "@" `
                             -MailExchange "mail.corp.example.com" `
                             -ZoneName "corp.example.com"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration initiale d'un serveur DNS<br>
        <strong>‚ö†Ô∏è Planification :</strong> Bien structurer la zone DNS avant cr√©ation<br>
        <strong>‚úÖ Test de succ√®s :</strong> R√©solution DNS fonctionnelle pour les enregistrements<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un serveur DNS interne d'entreprise"
      </div>
    </div>

    <!-- Gestion avanc√©e DNS -->
    <h4 id="ps-dns-advanced"><i class="fas fa-cog"></i> 5. Gestion avanc√©e DNS</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Activer le nettoyage automatique
Set-DnsServerScavenging -ScavengingState $true `
                       -RefreshInterval 7.00:00:00 `
                       -NoRefreshInterval 7.00:00:00 `
                       -ApplyOnAllZones

# Forcer le nettoyage imm√©diat
Start-DnsServerScavenging -Force

# Configurer le transfert de zone
Set-DnsServerForwarder -IPAddress "8.8.8.8","8.8.4.4" -PassThru

# Configurer la r√©plication DNS entre contr√¥leurs de domaine
Set-DnsServerDirectoryPartition -Name "DomainDnsZones.corp.example.com" `
                               -ReplicationScope "Domain"

# Exporter la configuration DNS
Export-DnsServerZone -Name "corp.example.com" -FileName "C:\DNS_Backup\corp.example.com.dns"

# Importer une zone DNS
Import-DnsServerZone -Name "corp.example.com" -FileName "C:\DNS_Backup\corp.example.com.dns"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Maintenance et optimisation du serveur DNS<br>
        <strong>üîç Important :</strong> Le nettoyage automatique pr√©vient la pollution DNS<br>
        <strong>‚úÖ Bonne pratique :</strong> Sauvegarder les zones avant modifications majeures<br>
        <strong>üö® Sc√©nario :</strong> "Nettoyage d'une zone DNS pollu√©e par des enregistrements obsol√®tes"
      </div>
    </div>

    <!-- Surveillance et d√©pannage -->
    <h4 id="ps-dns-monitoring"><i class="fas fa-search"></i> 6. Surveillance et d√©pannage</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># V√©rifier l'√©tat du service DHCP
Get-Service -Name DHCPServer | Select-Object Name,Status,StartType

# Analyser les √©v√©nements DHCP
Get-EventLog -LogName "System" -Source "DHCPServer" -Newest 50

# Tester la r√©solution DNS
Resolve-DnsName -Name "serveur1.corp.example.com" -Type A

# Effectuer une requ√™te DNS d√©taill√©e
nslookup
> server 192.168.1.1
> set type=MX
> corp.example.com
> exit

# V√©rifier la r√©plication DNS
Repadmin /showrepl
Repadmin /syncall /AdeP

# Capturer le trafic DHCP/DNS
netsh trace start scenario=NetConnection capture=yes tracefile=C:\traces\network.etl
netsh trace stop</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic de probl√®mes DHCP/DNS<br>
        <strong>üîç M√©thodologie :</strong> V√©rifier services ‚Üí logs ‚Üí r√©solution ‚Üí r√©plication<br>
        <strong>‚úÖ R√©sultat :</strong> Identification pr√©cise de l'origine du probl√®me<br>
        <strong>üö® Sc√©nario :</strong> "Les clients ne re√ßoivent pas d'IP ou ne r√©solvent pas les noms"
      </div>
    </div>

    <!-- S√©curit√© DHCP et DNS -->
    <h4 id="ps-dhcp-dns-security"><i class="fas fa-shield-alt"></i> 7. S√©curit√© DHCP et DNS</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Configurer les options de s√©curit√© DHCP
Set-DhcpServerv4DnsSetting -DynamicUpdates "Always" `
                          -DeleteDnsRRonLeaseExpiry $true `
                          -UpdateDnsRRForOlderClients $true

# Activer DNSSEC pour une zone
Set-DnsServerZoneSigning -Name "corp.example.com" -Sign

# Configurer le filtrage DNS
Add-DnsServerQueryResolutionPolicy -Name "BlockMaliciousDomains" `
                                 -Action DENY `
                                 -FQDN "EQ,*.malicious.com" `
                                 -PassThru

# Restreindre les mises √† jour DNS dynamiques
Set-DnsServerPrimaryZone -Name "corp.example.com" `
                        -DynamicUpdate Secure</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Renforcement de la s√©curit√© des services r√©seau<br>
        <strong>‚ö†Ô∏è Test :</strong> Tester soigneusement avant d√©ploiement en production<br>
        <strong>‚úÖ Avantage :</strong> Protection contre les attaques et abus<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation des services DHCP/DNS contre les attaques"
      </div>
    </div>

    <!-- Scripts utiles -->
    <h4 id="ps-scripts"><i class="fas fa-code"></i> 8. Scripts utiles</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Script pour v√©rifier les baux DHCP expir√©s
$ExpiredLeases = Get-DhcpServerv4Lease -ScopeId 192.168.1.0 | Where-Object {$_.LeaseExpiryTime -lt (Get-Date)}
$ExpiredLeases | Export-Csv -Path "C:\Reports\ExpiredLeases.csv" -NoTypeInformation

# Script pour auditer les enregistrements DNS
$DNSRecords = Get-DnsServerResourceRecord -ZoneName "corp.example.com" -RRType "A"
$DNSRecords | Select-Object HostName,RecordType,Timestamp | Out-GridView

# Script pour migrer des plages DHCP
$OldScope = Get-DhcpServerv4Scope -ScopeId 192.168.0.0
Add-DhcpServerv4Scope -Name $OldScope.Name `
                     -StartRange 192.168.1.100 `
                     -EndRange 192.168.1.200 `
                     -SubnetMask $OldScope.SubnetMask
Get-DhcpServerv4OptionValue -ScopeId $OldScope.ScopeId | ForEach-Object {
    Set-DhcpServerv4OptionValue -ScopeId 192.168.1.0 -OptionId $_.OptionId -Value $_.Value
}</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation des t√¢ches de maintenance courantes<br>
        <strong>üîç Utilisation :</strong> Planifier l'ex√©cution r√©guli√®re de ces scripts<br>
        <strong>‚úÖ Avantage :</strong> Gain de temps et coh√©rence des op√©rations<br>
        <strong>üö® Sc√©nario :</strong> "Audit mensuel des services r√©seau"
      </div>
    </div>

    <!-- SECTION ADMINISTRATION LINUX SERVER -->
    <h2 id="administration"><i class="fab fa-linux linux-icon"></i> Administration Linux Server</h2>

    <!-- Gestion utilisateurs et groupes -->
    <h3 id="admin-linux-users"><i class="fas fa-users"></i> 1. Gestion des utilisateurs et groupes</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Cr√©er un nouvel utilisateur
sudo useradd -m -s /bin/bash jdupont
sudo passwd jdupont

# Modifier un utilisateur
sudo usermod -aG sudo jdupont  # Ajouter aux sudoers
sudo usermod -d /new/home/jdupont jdupont  # Changer le r√©pertoire home

# Cr√©er un groupe
sudo groupadd admins_it

# Ajouter un utilisateur √† un groupe
sudo usermod -aG admins_it jdupont

# Lister tous les utilisateurs
cut -d: -f1 /etc/passwd

# V√©rifier les sudoers
sudo grep -Po '^sudo.+:\K.*$' /etc/group

# Trouver l'identifiant du client (MAC address)
ip link show                    # Regarder "link/ether"
cat /sys/class/net/eth0/address</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des comptes utilisateurs sur serveur Linux<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> V√©rifier les privil√®ges accord√©s aux utilisateurs<br>
        <strong>‚úÖ Bonne pratique :</strong> Utiliser des groupes pour la gestion des permissions<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation de comptes pour une nouvelle √©quipe"
      </div>
    </div>

    <!-- Gestion des permissions -->
    <h3 id="admin-linux-permissions"><i class="fas fa-lock"></i> 2. Gestion des permissions</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Changer le propri√©taire d'un fichier
sudo chown jdupont:admins_it /chemin/du/fichier

# Changer les permissions (chmod en octal)
sudo chmod 750 /chemin/du/fichier  # rwx pour owner, r-x pour group, --- pour others

# Changer les permissions (chmod symbolique)
sudo chmod u=rwx,g=rx,o= /chemin/du/fichier

# D√©finir le bit SUID
sudo chmod u+s /chemin/du/fichier

# D√©finir le sticky bit sur un r√©pertoire
sudo chmod +t /chemin/du/repertoire</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration des permissions de fichiers et r√©pertoires<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> SUID peut √™tre dangereux si mal utilis√©<br>
        <strong>‚úÖ Bonne pratique :</strong> Principe du moindre privil√®ge<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation d'un r√©pertoire partag√© entre utilisateurs"
      </div>
    </div>

    <!-- Gestion des paquets -->
    <h3 id="admin-linux-packages"><i class="fas fa-box-open"></i> 3. Gestion des paquets</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Debian/Ubuntu
sudo apt update && sudo apt upgrade  # Mettre √† jour tous les paquets
sudo apt install apache2            # Installer un paquet
sudo apt remove apache2             # D√©sinstaller un paquet
sudo apt autoremove                 # Nettoyer les paquets inutiles

# RHEL/CentOS
sudo yum update                     # Mettre √† jour tous les paquets
sudo yum install httpd              # Installer un paquet
sudo yum remove httpd               # D√©sinstaller un paquet
sudo yum clean all                  # Nettoyer le cache</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Maintenance des paquets logiciels<br>
        <strong>‚ö†Ô∏è Production :</strong> Tester les mises √† jour en environnement de test d'abord<br>
        <strong>‚úÖ Routine :</strong> Mettre √† jour r√©guli√®rement pour la s√©curit√©<br>
        <strong>üö® Sc√©nario :</strong> "Mise √† jour de s√©curit√© mensuelle des serveurs"
      </div>
    </div>

    <!-- Gestion des services -->
    <h3 id="admin-linux-services"><i class="fas fa-cogs"></i> 4. Gestion des services</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Systemd (r√©cent)
sudo systemctl start apache2        # D√©marrer un service
sudo systemctl stop apache2         # Arr√™ter un service
sudo systemctl restart apache2      # Red√©marrer un service
sudo systemctl enable apache2       # Activer au d√©marrage
sudo systemctl status apache2       # V√©rifier l'√©tat

# SysVinit (ancien)
sudo service apache2 start          # D√©marrer un service
sudo service apache2 stop           # Arr√™ter un service
sudo service apache2 restart        # Red√©marrer un service
sudo update-rc.d apache2 defaults   # Activer au d√©marrage</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des services syst√®me<br>
        <strong>üîç Diagnostic :</strong> `systemctl status` pour voir les erreurs<br>
        <strong>‚úÖ Bonne pratique :</strong> Tester le service apr√®s red√©marrage<br>
        <strong>üö® Sc√©nario :</strong> "Red√©marrage d'un service apr√®s modification de configuration"
      </div>
    </div>

    <!-- Surveillance et maintenance -->
    <h3 id="admin-linux-monitoring"><i class="fas fa-chart-line"></i> 5. Surveillance et maintenance</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Espace disque
df -h                              # Afficher l'espace disque
du -sh /chemin                     # Taille d'un r√©pertoire

# M√©moire
free -m                            # Utilisation m√©moire
top                                # Moniteur d'activit√©
htop                               # Version am√©lior√©e de top

# Processus
ps aux                             # Lister tous les processus
pstree                             # Arbre des processus
kill -9 PID                        # Tuer un processus

# Journaux syst√®me
sudo journalctl -xe                # Afficher les logs systemd
sudo tail -f /var/log/syslog       # Suivre les logs en temps r√©el
sudo grep "error" /var/log/syslog  # Filtrer les erreurs</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Surveillance quotidienne de l'√©tat du syst√®me<br>
        <strong>üîç Routine :</strong> V√©rifier r√©guli√®rement espace disque et m√©moire<br>
        <strong>‚úÖ Alertes :</strong> Configurer des alertes pour espace disque critique<br>
        <strong>üö® Sc√©nario :</strong> "Investigation de probl√®mes de performance"
      </div>
    </div>

    <!-- S√©curit√© et r√©seau -->
    <h3 id="admin-linux-security"><i class="fas fa-shield-alt"></i> 6. S√©curit√© et r√©seau</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Pare-feu (UFW - Ubuntu)
sudo ufw enable                    # Activer le pare-feu
sudo ufw allow 22/tcp              # Autoriser le port SSH
sudo ufw deny 23/tcp               # Bloquer le port Telnet
sudo ufw status verbose            # V√©rifier les r√®gles

# Pare-feu (firewalld - RHEL/CentOS)
sudo firewall-cmd --permanent --add-port=80/tcp
sudo firewall-cmd --reload

# SSH
sudo ssh-keygen -t rsa -b 4096     # G√©n√©rer une paire de cl√©s
sudo nano /etc/ssh/sshd_config     # Configurer le serveur SSH
sudo systemctl restart sshd        # Red√©marrer SSH apr√®s modification

# Analyse de s√©curit√©
sudo lynis audit system            # Audit de s√©curit√©
sudo chkrootkit                   # V√©rifier les rootkits
sudo rkhunter --checkall          # Analyse compl√®te du syst√®me</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Renforcement de la s√©curit√© du serveur<br>
        <strong>‚ö†Ô∏è Test :</strong> Tester les r√®gles firewall avant d√©ploiement<br>
        <strong>‚úÖ Bonne pratique :</strong> D√©sactiver l'authentification par mot de passe SSH<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation d'un nouveau serveur expos√© sur Internet"
      </div>
    </div>

    <!-- Sauvegarde et restauration -->
    <h3 id="admin-linux-backup"><i class="fas fa-save"></i> 7. Sauvegarde et restauration</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è Variable</span>
      </div>
      <pre><code># Sauvegarde avec tar
sudo tar -czvf backup-$(date +%F).tar.gz /dossier/a/sauvegarder

# Sauvegarde incr√©mentielle avec rsync
sudo rsync -av --delete --link-dest=/previous/backup /source /destination/backup-$(date +%F)

# Sauvegarde MySQL
sudo mysqldump -u root -p --all-databases > full_backup.sql

# Sauvegarde PostgreSQL
sudo pg_dumpall -U postgres > full_backup.sql

# Planifier des sauvegardes avec cron
(crontab -l 2>/dev/null; echo "0 2 * * * /chemin/vers/script_backup.sh") | crontab -</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place de strat√©gies de sauvegarde<br>
        <strong>‚ö†Ô∏è Important :</strong> Tester r√©guli√®rement la restauration des sauvegardes<br>
        <strong>‚úÖ Strat√©gie :</strong> R√®gle 3-2-1 (3 copies, 2 supports, 1 hors-site)<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un plan de sauvegarde automatis√©"
      </div>
    </div>

    <!-- Scripting avanc√© -->
    <h3 id="admin-linux-scripting"><i class="fas fa-code"></i> 8. Scripting avanc√©</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code>#!/bin/bash
# Exemple de script de surveillance

# Variables
THRESHOLD=90
EMAIL="admin@example.com"

# V√©rification espace disque
DISK_USAGE=$(df / | awk '{print $5}' | tail -1 | cut -d'%' -f1)

if [ $DISK_USAGE -gt $THRESHOLD ]; then
    echo "Alerte : Espace disque critique sur $(hostname)" | mail -s "Alerte disque" $EMAIL
fi

# V√©rification m√©moire
MEM_FREE=$(free -m | awk '/Mem:/ {print $4}')
if [ $MEM_FREE -lt 100 ]; then
    echo "Alerte : M√©moire faible sur $(hostname)" | mail -s "Alerte m√©moire" $EMAIL
fi</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation des t√¢ches d'administration<br>
        <strong>‚ö†Ô∏è Test :</strong> Tester les scripts en environnement de test d'abord<br>
        <strong>‚úÖ Avantage :</strong> Gain de temps et r√©duction d'erreurs humaines<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation de scripts de monitoring personnalis√©s"
      </div>
    </div>

    <!-- Administration GLPI -->
    <h3 id="admin-linux-glpi"><i class="fas fa-tools"></i> 9. Administration GLPI</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># V√©rification configuration base de donn√©es GLPI
cat /var/www/html/glpi/config/config_db.php

# Ou avec un format plus lisible
grep -E "(dbhost|dbuser|dbpassword|dbdefault)" /var/www/html/glpi/config/config_db.php

# Version d√©taill√©e
php -r '
    include "/var/www/html/glpi/config/config_db.php";
    echo "H√¥te: " . $DB->dbhost . "\n";
    echo "Base: " . $DB->dbdefault . "\n";
    echo "Utilisateur: " . $DB->dbuser . "\n";
    echo "Mot de passe: " . $DB->dbpassword . "\n";
'

# Connexion MySQL et exploration
mysql -u root -p -e "SHOW DATABASES;"
mysql -u root -p -e "USE glpi_db; SHOW TABLES;"

# Voir les utilisateurs MySQL
mysql -u root -p -e "SELECT user, host FROM mysql.user;"

# Voir les privil√®ges de l'utilisateur GLPI
mysql -u root -p -e "SHOW GRANTS FOR 'glpi_admin'@'localhost';"

# Console GLPI
cd /var/www/html/glpi
php bin/console glpi:system:status
php bin/console glpi:database:check

# Donner droits super-admin
mysql -u glpi_admin -p'34PenetrationTest' -h localhost glpi_db -e "
UPDATE glpi_profiles_users 
SET profiles_id = 4 
WHERE users_id = (SELECT id FROM glpi_users WHERE name = 'glpi_admin');"

# Si l'utilisateur n'a aucun profil, l'ajouter :
mysql -u glpi_admin -p'34PenetrationTest' -h localhost glpi_db -e "
INSERT INTO glpi_profiles_users (users_id, profiles_id, entities_id, is_recursive, is_dynamic) 
VALUES (
  (SELECT id FROM glpi_users WHERE name = 'glpi_admin'), 
  4, 0, 1, 0
);"

# V√©rification :
mysql -u glpi_admin -p'34PenetrationTest' -h localhost glpi_db -e "
SELECT u.name, p.name as profile 
FROM glpi_users u 
JOIN glpi_profiles_users pu ON u.id = pu.users_id 
JOIN glpi_profiles p ON pu.profiles_id = p.id 
WHERE u.name = 'glpi_admin';"

# Chercher les fichiers de configuration
sudo find / -name "config_db.php" 2>/dev/null

# Commandes MySQL GLPI
mysql -u root -p glpi_db << 'EOF'
-- D√©sactiver v√©rification versions
UPDATE glpi_configs SET value = '0' WHERE name = 'founded_new_version';
UPDATE glpi_configs SET value = '0' WHERE name = 'checkversion';

-- R√©activer v√©rification versions
UPDATE glpi_configs SET value = '1' WHERE name = 'checkversion';
UPDATE glpi_configs SET value = '' WHERE name = 'founded_new_version';

-- V√©rification configuration
SELECT name, value FROM glpi_configs WHERE name IN ('founded_new_version', 'checkversion');

-- Cr√©er configuration manquante
INSERT INTO glpi_configs (name, value, context) 
VALUES ('checkversion', '1', 'core')
ON DUPLICATE KEY UPDATE value = '1';
EOF

# Fuseaux horaires GLPI
# Activation fuseaux horaires
cd /var/www/html/glpi
php bin/console database:enable_timezones

# V√©rification
php bin/console database:check_timezones

# Configuration MySQL pour fuseaux horaires
mysql -u root -p << 'EOF'
GRANT SELECT ON mysql.time_zone_name TO 'glpi_admin'@'localhost';
GRANT SELECT ON mysql.time_zone TO 'glpi_admin'@'localhost';
GRANT SELECT ON mysql.time_zone_leap_second TO 'glpi_admin'@'localhost';
GRANT SELECT ON mysql.time_zone_transition TO 'glpi_admin'@'localhost';
GRANT SELECT ON mysql.time_zone_transition_type TO 'glpi_admin'@'localhost';
FLUSH PRIVILEGES;
EOF

# Chargement donn√©es fuseaux horaires
mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql

# Agent GLPI Windows
# Arr√™t service GLPI Agent (Windows)
echo "# Sur Windows (CMD admin) :"
echo "net stop 'GLPI Agent'"
echo "timeout /t 30"
echo "net start 'GLPI Agent'"

# Configuration agent GLPI (fichier agent.cfg)
cat > "C:\Program Files\GLPI-Agent\agent.cfg" << 'EOF'
# D√©sactiver scans r√©seau
modules = inventory,deploy,collect
no-task = netdiscovery,netinventory

[netdiscovery]
enabled = 0

[netinventory]
enabled = 0

[network]
delay = 0
no-task = 1
EOF

# R√©initialisation GLPI
# R√©initialisation via console
cd /var/www/html/glpi
php bin/console glpi:system:clear_cache
php bin/console glpi:database:configure \
    --db-host=localhost \
    --db-name=glpi_db \
    --db-user=glpi_admin \
    --db-password=34PenetrationTest \
    --reconfigure

# R√©installation sans perte donn√©es
php bin/console glpi:database:install \
    --db-host=localhost \
    --db-name=glpi_db \
    --db-user=glpi_admin \
    --db-password=34PenetrationTest \
    --force

# Sauvegardes GLPI
# Sauvegarde base donn√©es
BACKUP_DIR="/root/glpi_backup_$(date +%Y%m%d_%H%M%S)"
mkdir -p $BACKUP_DIR
mysqldump -u root -p glpi_db > "$BACKUP_DIR/glpi_db_complete.sql"
mysqldump -u root -p --no-create-info glpi_db > "$BACKUP_DIR/glpi_db_data_only.sql"
mysqldump -u root -p --no-data glpi_db > "$BACKUP_DIR/glpi_db_structure_only.sql"

# Sauvegarde fichiers configuration
cp /var/www/html/glpi/config/config_db.php "$BACKUP_DIR/"
cp /var/www/html/glpi/config/local_define.php "$BACKUP_DIR/" 2>/dev/null || true

# Sauvegarde fichiers GLPI
tar -czf "$BACKUP_DIR/glpi_files.tar.gz" -C /var/www/html/glpi/files . 2>/dev/null || true

# V√©rifications GLPI
# Statut services
systemctl status snmpd
systemctl status apache2
systemctl status mysql

# Test GLPI
curl -I http://localhost/glpi
php bin/console glpi:system:status

# Logs
tail -f /var/log/syslog | grep snmp
tail -f /var/log/apache2/error.log</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration et d√©pannage de GLPI<br>
        <strong>‚ö†Ô∏è Sauvegarde :</strong> Toujours sauvegarder avant modifications<br>
        <strong>‚úÖ Monitoring :</strong> V√©rifier r√©guli√®rement l'√©tat des services<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®mes d'acc√®s ou de performance avec GLPI"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION R√âSEAU - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="reseau"><i class="fas fa-wifi network-icon"></i> R√©seau</h2>

    <!-- Commandes R√©seau PowerShell -->
    <h3 id="reseau-powershell"><i class="fas fa-network-wired network-icon"></i> Commandes R√©seau PowerShell (Windows)</h3>

    <!-- Configuration r√©seau de base PowerShell -->
    <h4 id="ps-network-basic"><i class="fas fa-ethernet"></i> 1. Configuration r√©seau de base</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Lister toutes les interfaces r√©seau
Get-NetAdapter | Select Name, InterfaceDescription, Status

# Activer/D√©sactiver une interface
Enable-NetAdapter -Name "Ethernet" -Confirm:$false
Disable-NetAdapter -Name "Wi-Fi" -Confirm:$false

# Configurer une adresse IP statique
New-NetIPAddress -InterfaceAlias "Ethernet" -IPAddress 192.168.1.100 `
                -PrefixLength 24 -DefaultGateway 192.168.1.1

# Configurer les serveurs DNS
Set-DnsClientServerAddress -InterfaceAlias "Ethernet" `
                        -ServerAddresses ("8.8.8.8", "8.8.4.4")</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration r√©seau sous Windows via PowerShell<br>
        <strong>‚ö†Ô∏è Test :</strong> V√©rifier la connectivit√© apr√®s modifications<br>
        <strong>‚úÖ Avantage :</strong> Automatisation possible via scripts<br>
        <strong>üö® Sc√©nario :</strong> "Configuration automatis√©e de postes Windows"
      </div>
    </div>

    <!-- Diagnostic r√©seau PowerShell -->
    <h4 id="ps-network-diagnostic"><i class="fas fa-search"></i> 2. Diagnostic r√©seau</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Test de connectivit√©
Test-NetConnection -ComputerName google.com -Port 80

# Traceroute am√©lior√©
Test-NetConnection -ComputerName google.com -TraceRoute

# Analyse des ports ouverts
Get-NetTCPConnection -State Listen | Sort-Object LocalPort | Format-Table

# V√©rifier la configuration IP d√©taill√©e
Get-NetIPConfiguration -Detailed

# Capturer des paquets (n√©cessite Npcap)
# Installer d'abord : choco install npcap
New-NetEventSession -Name "CaptureSession" -CaptureMode SaveToFile -LocalFilePath "C:\capture.etl"
Add-NetEventPacketCaptureProvider -SessionName "CaptureSession"
Start-NetEventSession -Name "CaptureSession"
Stop-NetEventSession -Name "CaptureSession"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic r√©seau avanc√© sous Windows<br>
        <strong>üîç Puissant :</strong> Alternative aux outils traditionnels<br>
        <strong>‚úÖ Int√©gration :</strong> Parfait pour l'automatisation<br>
        <strong>üö® Sc√©nario :</strong> "Diagnostic complet de connectivit√© Windows"
      </div>
    </div>

    <!-- Pare-feu avanc√© PowerShell -->
    <h4 id="ps-firewall"><i class="fas fa-shield-alt"></i> 3. Pare-feu avanc√©</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Lister toutes les r√®gles
Get-NetFirewallRule | Where-Object {$_.Enabled -eq "True"} | Format-Table Name,DisplayName

# Cr√©er une nouvelle r√®gle
New-NetFirewallRule -Name "AllowWeb" -DisplayName "HTTP/HTTPS Access" `
                   -Direction Inbound -Protocol TCP -LocalPort 80,443 `
                   -Action Allow

# Bloquer une plage IP
New-NetFirewallRule -Name "BlockMalicious" -DisplayName "Block Malicious IPs" `
                   -Direction Inbound -RemoteAddress 192.168.100.0/24 `
                   -Action Block</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion avanc√©e du firewall Windows<br>
        <strong>‚ö†Ô∏è Pr√©cision :</strong> Les r√®gles sont tr√®s granulaires<br>
        <strong>‚úÖ Automatisation :</strong> D√©ploiement de politiques de s√©curit√©<br>
        <strong>üö® Sc√©nario :</strong> "Ouverture sp√©cifique de ports pour une application"
      </div>
    </div>

    <!-- Routage avanc√© PowerShell -->
    <h4 id="ps-routing"><i class="fas fa-route"></i> 4. Routage avanc√©</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Afficher la table de routage
Get-NetRoute -AddressFamily IPv4 | Format-Table

# Ajouter une route statique
New-NetRoute -DestinationPrefix "10.0.0.0/24" -InterfaceAlias "Ethernet" `
             -NextHop 192.168.1.1 -RouteMetric 100

# Configurer le NAT (exige le r√¥le RRAS)
Install-WindowsFeature RemoteAccess -IncludeManagementTools
Install-RemoteAccess -VpnType RoutingOnly
Add-NetNatStaticMapping -NatName "CorpNAT" -Protocol TCP -ExternalIPAddress 203.0.113.25 `
                       -InternalIPAddress 192.168.1.50 -InternalPort 3389 -ExternalPort 3389</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration de routage avanc√© sous Windows<br>
        <strong>‚ö†Ô∏è Complexit√© :</strong> NAT n√©cessite r√¥le RRAS install√©<br>
        <strong>‚úÖ Puissance :</strong> Gestion compl√®te du routage Windows<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'un serveur Windows comme routeur"
      </div>
    </div>

    <!-- VPN et connectivit√© distante PowerShell -->
    <h4 id="ps-vpn"><i class="fas fa-lock"></i> 5. VPN et connectivit√© distante</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Configurer un VPN (PowerShell 5.1+)
Add-VpnConnection -Name "CorporateVPN" -ServerAddress "vpn.corp.example.com" `
                 -TunnelType L2tp -L2tpPsk "SharedSecret123" -Force -RememberCredential

# Se connecter √† un VPN
rasdial "CorporateVPN" username password

# V√©rifier les connexions VPN
Get-VpnConnection</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration automatis√©e de connexions VPN<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Prot√©ger les secrets de configuration<br>
        <strong>‚úÖ D√©ploiement :</strong> Automatisation du d√©ploiement VPN<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement de configuration VPN sur un parc"
      </div>
    </div>

    <!-- Commandes R√©seau Linux -->
    <h3 id="reseau-linux"><i class="fas fa-network-wired network-icon"></i> Commandes R√©seau Linux (CLI)</h3>

    <!-- Configuration r√©seau de base Linux -->
    <h4 id="linux-network-basic"><i class="fas fa-ethernet"></i> 1. Configuration r√©seau de base</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Lister les interfaces
ip link show
nmcli device status

# Activer/D√©sactiver une interface
sudo ip link set eth0 up
sudo ip link set eth0 down

# Configurer une adresse IP temporaire
sudo ip addr add 192.168.1.100/24 dev eth0

# Configurer une adresse IP permanente (Ubuntu/Debian)
sudo nano /etc/netplan/01-netcfg.yaml
# Exemple de configuration:
network:
  version: 2
  ethernets:
    eth0:
      addresses: [192.168.1.100/24]
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
sudo netplan apply

# V√©rification des interfaces
ip a
ip -br addr show
ip link show

# Tables de routage
ip route show
ip route get 8.8.8.8</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration r√©seau sous Linux<br>
        <strong>üîç M√©thodes :</strong> Plusieurs approches selon la distribution<br>
        <strong>‚úÖ Permanent :</strong> Netplan pour configurations durables<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'un serveur Linux avec IP fixe"
      </div>
    </div>

    <!-- Diagnostic r√©seau Linux -->
    <h4 id="linux-network-diagnostic"><i class="fas fa-search"></i> 2. Diagnostic r√©seau</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Test de connectivit√©
ping -c 4 google.com
ping6 -c 4 ipv6.google.com

# Traceroute (installer avec: sudo apt install traceroute)
traceroute -n google.com

# V√©rifier les ports ouverts
ss -tulnp
netstat -tulnp  # Alternative

# Analyse des paquets
sudo tcpdump -i eth0 -n 'port 80'
sudo tshark -i eth0 -f "tcp port 22"  # Version avanc√©e (Wireshark CLI)

# Test de d√©bit (installer speedtest-cli)
speedtest-cli --bytes

# Connexions r√©seau actives
ss -tulpn
netstat -tulpn</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic complet r√©seau sous Linux<br>
        <strong>üîç Outils :</strong> Large gamme d'outils disponibles<br>
        <strong>‚úÖ Puissance :</strong> Analyse tr√®s d√©taill√©e possible<br>
        <strong>üö® Sc√©nario :</strong> "Investigation de probl√®mes de connectivit√© complexes"
      </div>
    </div>

    <!-- Monitoring SNMP Linux -->
    <h4 id="linux-snmp"><i class="fas fa-chart-bar"></i> 3. Monitoring SNMP</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Installation SNMP sur Linux
sudo apt-get update
sudo apt-get install snmpd snmp

# Configuration SNMPD
sudo cat > /etc/snmp/snmpd.conf << 'EOF'
agentAddress udp:161
rocommunity public 0.0.0.0/0
rwcommunity private 0.0.0.0/0
sysLocation "EVE-NG Lab"
sysContact "admin@eve-ng.net"
EOF

# Red√©marrage service SNMP
sudo systemctl restart snmpd
sudo systemctl enable snmpd

# Test SNMP
snmpwalk -v2c -c public localhost system
snmpwalk -v2c -c public [IP-EVE-NG] system

# Configuration SNMP d√©taill√©e pour GLPI
sudo cat > /etc/snmp/snmpd.conf << 'EOF'
# EVE-NG SNMP Minimal Config
agentAddress udp:161

# Communities avec restrictions r√©seau
rocommunity public 127.0.0.1
rocommunity public 192.168.0.0/16
rocommunity public 10.0.0.0/8

# Informations syst√®me
sysLocation "EVE-NG Lab"
sysContact "admin@eve-ng.net"
sysName "eve-ng"

# Options de s√©curit√©
com2sec notConfigUser  default       public
group   notConfigGroup v1           notConfigUser
group   notConfigGroup v2c           notConfigUser
view    systemview    included   .1.3.6.1.2.1.1
view    systemview    included   .1.3.6.1.2.1.25.1.1
access  notConfigGroup ""      any       noauth    exact  systemview none none
EOF

# Purge SNMP
# Arr√™t service
sudo systemctl stop snmpd

# R√©initialisation configuration
sudo rm -f /etc/snmp/snmpd.conf

# Nouvelle configuration propre
sudo cat > /etc/snmp/snmpd.conf << 'EOF'
# SNMPd minimal configuration for EVE-NG
rocommunity public 127.0.0.1
rocommunity public 192.168.0.0/16
sysLocation "EVE-NG Laboratory"
sysContact "admin@eve-ng.net"
EOF

# Red√©marrage
sudo systemctl start snmpd

# Diagnostic r√©seau SNMP
# Test connectivit√©
ping -c 3 192.168.30.6
telnet 192.168.30.6 161

# V√©rification ports ouverts
netstat -tulpn | grep 161
ss -tulpn | grep 161

# Test firewall
sudo ufw status
sudo ufw allow from 192.168.30.0/24 to any port 161</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration du monitoring SNMP<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Restreindre les communaut√©s par r√©seau<br>
        <strong>‚úÖ Int√©gration :</strong> Compatible GLPI, Zabbix, etc.<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place du monitoring SNMP pour GLPI"
      </div>
    </div>

    <!-- Gestion NetworkManager Linux -->
    <h4 id="linux-networkmanager"><i class="fas fa-network-wired"></i> 4. Gestion NetworkManager</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># √âtat des connexions NetworkManager
nmcli connection show
nmcli device status

# V√©rification d√©taill√©e d'une connexion
nmcli connection show "Connexion Ethernet 1"
nmcli connection show enp0s10

# Modification configuration DNS
sudo nmcli connection modify "Connexion Ethernet 1" ipv4.dns "8.8.8.8,1.1.1.1"
sudo nmcli connection modify "Connexion Ethernet 1" ipv4.ignore-auto-dns yes

# Red√©marrage connexion
sudo nmcli connection down "Connexion Ethernet 1"
sudo nmcli connection up "Connexion Ethernet 1"

# Suppression et recr√©ation de profil
sudo nmcli connection delete "Connexion Ethernet 1"
sudo nmcli connection add type ethernet ifname enp0s10 con-name enp0s10 \
    ipv4.method auto \
    ipv4.ignore-auto-dns yes \
    ipv4.dns "8.8.8.8,1.1.1.1"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion r√©seau moderne sous Linux<br>
        <strong>üîç Avantage :</strong> Interface coh√©rente across distributions<br>
        <strong>‚úÖ Scriptable :</strong> Parfait pour l'automatisation<br>
        <strong>üö® Sc√©nario :</strong> "Correction de probl√®mes DNS persistants"
      </div>
    </div>

    <!-- Pare-feu avanc√© Linux -->
    <h4 id="linux-firewall"><i class="fas fa-shield-alt"></i> 5. Pare-feu avanc√© (iptables/nftables)</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Lister les r√®gles iptables
sudo iptables -L -v -n --line-numbers
sudo iptables -S

# Autoriser le trafic HTTP/HTTPS
sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
sudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT

# Bloquer une IP
sudo iptables -A INPUT -s 192.168.100.23 -j DROP

# Sauvegarder les r√®gles (Debian/Ubuntu)
sudo iptables-save > /etc/iptables.rules

# D√©sactivation temporaire du firewall
sudo iptables -F
sudo iptables -X
sudo iptables -t nat -F
sudo iptables -P INPUT ACCEPT
sudo iptables -P FORWARD ACCEPT
sudo iptables -P OUTPUT ACCEPT
sudo nft flush ruleset

# nftables (nouvelle g√©n√©ration)
sudo nft add table inet filter
sudo nft add chain inet filter input { type filter hook input priority 0 \; }
sudo nft add rule inet filter input tcp dport 22 accept

# V√©rification nftables
sudo nft list ruleset</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration avanc√©e du firewall Linux<br>
        <strong>‚ö†Ô∏è Test :</strong> Toujours tester les r√®gles avant sauvegarde<br>
        <strong>‚úÖ Transition :</strong> nftables est le successeur d'iptables<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation d'un serveur expos√© sur Internet"
      </div>
    </div>

    <!-- Routage avanc√© Linux -->
    <h4 id="linux-routing"><i class="fas fa-route"></i> 6. Routage avanc√©</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Afficher la table de routage
ip route show
route -n  # Alternative

# Ajouter une route statique
sudo ip route add 10.0.0.0/24 via 192.168.1.1 dev eth0

# Configurer le NAT
sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
sudo sysctl -w net.ipv4.ip_forward=1

# Configurer le NAT permanent
echo "net.ipv4.ip_forward=1" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration de routage sous Linux<br>
        <strong>‚ö†Ô∏è Forwarding :</strong> N'oubliez pas d'activer ip_forward<br>
        <strong>‚úÖ Performance :</strong> Linux excelle comme routeur<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un routeur Linux pour un lab"
      </div>
    </div>

    <!-- VPN et tunnels Linux -->
    <h4 id="linux-vpn"><i class="fas fa-lock"></i> 7. VPN et tunnels</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># OpenVPN (client)
sudo openvpn --config client.ovpn

# WireGuard (client)
sudo wg-quick up wg0

# Cr√©er un tunnel SSH
ssh -N -L 8080:localhost:80 user@remote-server
ssh -N -R 2222:localhost:22 user@remote-server  # Reverse tunnel

# Tunnel GRE (entre deux serveurs)
sudo ip tunnel add gre1 mode gre remote 203.0.113.2 local 198.51.100.1 ttl 255
sudo ip link set gre1 up
sudo ip addr add 10.0.0.1/30 dev gre1</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration de tunnels et VPN<br>
        <strong>üîç Flexibilit√© :</strong> Large choix de solutions<br>
        <strong>‚úÖ S√©curit√© :</strong> Chiffrement des communications<br>
        <strong>üö® Sc√©nario :</strong> "Connexion s√©curis√©e entre deux sites"
      </div>
    </div>

    <!-- Outils r√©seau avanc√©s Linux -->
    <h4 id="linux-network-tools"><i class="fas fa-tools"></i> 8. Outils r√©seau avanc√©s</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Analyse de bande passante (nload)
sudo nload eth0

# Monitorer les connexions (iftop)
sudo iftop -i eth0

# Scanner r√©seau (nmap)
sudo nmap -sS -p 1-1024 192.168.1.0/24

# Benchmark HTTP (httperf)
httperf --server example.com --port 80 --uri / --num-conn 100

# Test de r√©silience (mtr)
mtr -n --report google.com</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic r√©seau avanc√©<br>
        <strong>üîç Sp√©cialis√© :</strong> Chaque outil a sa sp√©cialit√©<br>
        <strong>‚úÖ Performance :</strong> Analyse d√©taill√©e des performances<br>
        <strong>üö® Sc√©nario :</strong> "Investigation de probl√®mes de performance r√©seau"
      </div>
    </div>

    <!-- Analyse de paquets TShark -->
    <h4 id="linux-tshark"><i class="fas fa-search"></i> 9. Analyse de paquets avec TShark</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Installation
sudo apt install tshark                       # Sur Debian/Ubuntu

# Capture en direct
tshark -D                                     # Lister les interfaces disponibles
tshark -i eth0                                # Capturer sur une interface sp√©cifique
tshark -i eth0 -w capture.pcap                # Capturer et enregistrer dans un fichier
tshark -i eth0 -Y "http"                      # Filtrer le trafic (HTTP seulement)
tshark -i eth0 -c 100                         # Capturer seulement 100 paquets
tshark -i eth0 -f "port 80" -Y "http.request" # Afficher en temps r√©el avec filtrage

# Analyse de fichiers de capture
tshark -r capture.pcap                        # Lire un fichier .pcap
tshark -r capture.pcap -Y "dns"               # Filtrer les paquets (DNS seulement)
tshark -r capture.pcap -qz io,phs             # Afficher les statistiques</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Analyse approfondie du trafic r√©seau<br>
        <strong>üîç Puissance :</strong> Version CLI de Wireshark<br>
        <strong>‚úÖ Scriptable :</strong> Parfait pour l'automatisation<br>
        <strong>üö® Sc√©nario :</strong> "Debug de probl√®mes de communication r√©seau"
      </div>
    </div>

    <!-- Scripts r√©seau utiles -->
    <h4 id="linux-network-scripts"><i class="fas fa-code"></i> 10. Scripts r√©seau utiles</h4>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code>#!/bin/bash
# Script de surveillance r√©seau
INTERFACE="eth0"
MAX_UTIL=90

# V√©rifier l'utilisation de la bande passante
CURRENT_RX=$(ifconfig $INTERFACE | grep "RX packets" | awk '{print $5}')
CURRENT_TX=$(ifconfig $INTERFACE | grep "TX packets" | awk '{print $5}')
sleep 1
NEW_RX=$(ifconfig $INTERFACE | grep "RX packets" | awk '{print $5}')
NEW_TX=$(ifconfig $INTERFACE | grep "TX packets" | awk '{print $5}')

RX_UTIL=$(( ($NEW_RX - $CURRENT_RX) / 1024 ))
TX_UTIL=$(( ($NEW_TX - $CURRENT_TX) / 1024 ))

if [ $RX_UTIL -gt $MAX_UTIL ] || [ $TX_UTIL -gt $MAX_UTIL ]; then
    echo "Alerte: Utilisation √©lev√©e du r√©seau - RX: ${RX_UTIL}KB/s TX: ${TX_UTIL}KB/s" | mail -s "Alerte r√©seau" admin@example.com
fi</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Surveillance automatis√©e du r√©seau<br>
        <strong>üîç Customisation :</strong> Adaptable aux besoins sp√©cifiques<br>
        <strong>‚úÖ Proactif :</strong> D√©tection pr√©coce des probl√®mes<br>
        <strong>üö® Sc√©nario :</strong> "Monitoring de l'utilisation r√©seau d'un serveur critique"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION PFSENSE - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="pfsense"><i class="fas fa-shield-alt pfsense-icon"></i> pfSense</h2>

    <!-- Gestion g√©n√©rale pfSense -->
    <h3 id="pfsense-general"><i class="fas fa-shield-alt"></i> Gestion du firewall pfSense</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Gestion du firewall
pftcl -d && pfctl -e

# V√©rifier les r√®gles firewall pour le port RIP
pfctl -sr | grep 520

# Red√©marrer le service RIP
/etc/rc.d/ripd restart

# Gestion de l'historique
history
fc -l
history | grep rip
cat ~/.history

# Configurer l'historique persistant
echo 'export HISTFILE=~/.persistent_history' >> ~/.shrc
echo 'export HISTSIZE=10000' >> ~/.shrc
touch ~/.persistent_history

# Raccourcis historiques
!!  # R√©p√®te la derni√®re commande
!ssh  # Rappelle la derni√®re commande commen√ßant par ssh

# Gestion des r√®gles pfSense
nano /etc/pf.conf
# Ajouter avant les r√®gles de blocage:
pass in quick proto udp from any to any port = 520  # Autoriser RIP

# Recharger les r√®gles
pfctl -f /etc/pf.conf</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration avanc√©e de pfSense en CLI<br>
        <strong>‚ö†Ô∏è Attention :</strong> Modifications directes du fichier pf.conf<br>
        <strong>‚úÖ Avantage :</strong> Contr√¥le granulaire du firewall<br>
        <strong>üö® Sc√©nario :</strong> "Debug de r√®gles firewall complexes"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION SERVEUR WEB - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="web"><i class="fas fa-globe web-icon"></i> Serveur Web Apache</h2>

    <!-- Installation Apache -->
    <h3 id="apache-install"><i class="fas fa-server"></i> 1. Installation de base</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag web">WEB</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Installer Apache
sudo apt update && sudo apt upgrade -y
sudo apt install apache2 -y
sudo systemctl enable --now apache2

# V√©rifier le statut
sudo systemctl status apache2</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Installation d'un serveur web Apache<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Mettre √† jour avant installation<br>
        <strong>‚úÖ Test :</strong> V√©rifier que le service d√©marre correctement<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un nouveau serveur web"
      </div>
    </div>

    <!-- Structure fichiers Apache -->
    <h3 id="apache-structure"><i class="fas fa-folder-open"></i> 2. Structure des fichiers</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag web">WEB</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Cr√©er un nouveau site
sudo mkdir -p /var/www/monsite/html
sudo chown -R www-data:www-data /var/www/monsite
sudo chmod -R 755 /var/www/monsite</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Pr√©paration de l'arborescence d'un site<br>
        <strong>‚ö†Ô∏è Permissions :</strong> Important pour la s√©curit√©<br>
        <strong>‚úÖ Organisation :</strong> Structure claire pour multiples sites<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation d'un nouvel h√¥te virtuel"
      </div>
    </div>

    <!-- Configuration VirtualHost Apache -->
    <h3 id="apache-virtualhost"><i class="fas fa-cog"></i> 3. Configuration VirtualHost</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag web">WEB</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Exemple de configuration
&lt;VirtualHost *:80&gt;
    ServerName monsite.local
    ServerAlias www.monsite.local
    DocumentRoot /var/www/monsite/html
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    
    &lt;Directory /var/www/monsite/html&gt;
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;

# Activer le site
sudo a2ensite monsite.conf
sudo systemctl reload apache2</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration d'h√¥tes virtuels Apache<br>
        <strong>‚ö†Ô∏è Test :</strong> V√©rifier la syntaxe avant activation<br>
        <strong>‚úÖ S√©curit√© :</strong> Options -Indexes pour cacher l'arborescence<br>
        <strong>üö® Sc√©nario :</strong> "H√©bergement de multiple sites sur un serveur"
      </div>
    </div>

    <!-- Configuration PHP Apache -->
    <h3 id="apache-php"><i class="fas fa-code"></i> 4. Configuration PHP</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag web">WEB</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Installer PHP
sudo apt install php libapache2-mod-php php-mysql -y
sudo systemctl restart apache2

# Tester PHP
echo "<?php phpinfo(); ?>" | sudo tee /var/www/monsite/html/info.php</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Ajout du support PHP √† Apache<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Retirer phpinfo() en production<br>
        <strong>‚úÖ Test :</strong> V√©rifier que PHP est interpr√©t√© correctement<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'une application PHP"
      </div>
    </div>

    <!-- S√©curisation Apache -->
    <h3 id="apache-security"><i class="fas fa-lock"></i> 5. S√©curisation</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Activer le module security
sudo a2enmod security2
sudo systemctl restart apache2

# Configurer SSL avec Let's Encrypt
sudo apt install certbot python3-certbot-apache -y
sudo certbot --apache -d monsite.local -d www.monsite.local
sudo certbot renew --dry-run</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Renforcement de la s√©curit√© Apache<br>
        <strong>‚ö†Ô∏è Certificats :</strong> Let's Encrypt n√©cessite un nom de domaine valide<br>
        <strong>‚úÖ Automatisation :</strong> Renouvellement automatique des certificats<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation d'un site web avec HTTPS"
      </div>
    </div>

    <div class="note">
        <p><strong>R√©sum√© des Commandes Cl√©s</strong></p>
        <ul>
            <li>Installer Apache: <code>sudo apt install apache2 -y</code></li>
            <li>Activer un site: <code>sudo a2ensite nom.conf</code></li>
            <li>D√©sactiver le site par d√©faut: <code>sudo a2dissite 000-default.conf</code></li>
            <li>Tester la configuration: <code>sudo apache2ctl configtest</code></li>
            <li>Red√©marrer Apache: <code>sudo systemctl restart apache2</code></li>
            <li>V√©rifier les logs: <code>sudo tail -f /var/log/apache2/error.log</code></li>
        </ul>
    </div>


    <!-- ============================ -->
    <!-- SECTION P√âRIPH√âRIQUES - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="peripheriques"><i class="fas fa-print device-icon"></i> Gestion des P√©riph√©riques Externes</h2>

    <!-- Windows - Imprimantes -->
    <h3 id="peripheriques-windows-printers"><i class="fab fa-windows windows-icon"></i> 1. Windows (PowerShell) - Imprimantes</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Lister toutes les imprimantes
Get-Printer | Format-Table Name, DriverName, PortName, Shared, Published

# Ajouter une imprimante locale
Add-Printer -Name "HP_LaserJet" -DriverName "HP LaserJet P3015 Series PCL6" -PortName "USB001"

# Ajouter une imprimante r√©seau
Add-Printer -ConnectionName "\\print-server\HP_Color_LaserJet"

# Configurer une imprimante partag√©e
Set-Printer -Name "HP_LaserJet" -Shared $true -ShareName "HP_LaserJet_Shared" -Published $true

# Supprimer une imprimante
Remove-Printer -Name "Old_Printer"

# G√©rer les travaux d'impression
Get-PrintJob -PrinterName "HP_LaserJet" | Where-Object {$_.JobStatus -eq "Error"} | Remove-PrintJob
Restart-PrintJob -PrinterName "HP_LaserJet" -ID 5

# Installer un pilote d'imprimante
pnputil.exe -i -a "C:\Drivers\HP\*.inf"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des imprimantes sous Windows<br>
        <strong>‚ö†Ô∏è Pilotes :</strong> S'assurer d'avoir les bons pilotes<br>
        <strong>‚úÖ Automatisation :</strong> D√©ploiement massif possible<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'imprimantes sur un parc Windows"
      </div>
    </div>

    <!-- Windows - P√©riph√©riques USB et autres -->
    <h3 id="peripheriques-windows-usb"><i class="fab fa-windows windows-icon"></i> 2. Windows (PowerShell) - P√©riph√©riques USB et autres</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Lister tous les p√©riph√©riques connect√©s
Get-PnpDevice | Where-Object {$_.Present} | Format-Table FriendlyName, Status, InstanceId

# D√©sactiver un p√©riph√©rique USB
Disable-PnpDevice -InstanceId "USB\VID_0781&PID_5583\AA0123456789" -Confirm:$false

# Activer un p√©riph√©rique
Enable-PnpDevice -InstanceId "USB\VID_0781&PID_5583\AA0123456789" -Confirm:$false

# G√©rer les moniteurs
# (N√©cessite l'installation de DisplaySwitch.exe via Windows SDK)
DisplaySwitch.exe /internal  # Utiliser uniquement l'√©cran int√©gr√©
DisplaySwitch.exe /external  # Utiliser uniquement l'√©cran externe
DisplaySwitch.exe /extend    # √âtendre l'affichage
DisplaySwitch.exe /clone     # Dupliquer l'affichage

# G√©rer les p√©riph√©riques audio
Get-AudioDevice -List | Where-Object {$_.Type -eq "Playback"} | Format-Table Name, ID
Set-AudioDevice -ID "{0.0.0.00000000}.{a12b3c4d-5e67-8f90-1234-567890abcdef}"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des p√©riph√©riques Windows<br>
        <strong>‚ö†Ô∏è Hardware :</strong> Manipulation directe du mat√©riel<br>
        <strong>‚úÖ D√©pannage :</strong> R√©solution de conflits mat√©riels<br>
        <strong>üö® Sc√©nario :</strong> "D√©sactivation d'un p√©riph√©rique USB probl√©matique"
      </div>
    </div>

    <!-- Windows - Scanners -->
    <h3 id="peripheriques-windows-scanners"><i class="fab fa-windows windows-icon"></i> 3. Windows (PowerShell) - Scanners</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Lister les scanners disponibles (n√©cessite WIA)
$deviceManager = New-Object -ComObject WIA.DeviceManager
$deviceManager.DeviceInfos | Where-Object {$_.Type -eq 1} | Select-Object Properties

# Scanner un document (script avanc√©)
$device = $deviceManager.DeviceInfos.Item(1).Connect()
$scanner = $device.Items.Item(1)
$image = $scanner.Transfer()
$image.SaveFile("C:\Scans\document_$(Get-Date -Format 'yyyyMMddHHmmss').jpg")</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des scanners sous Windows<br>
        <strong>‚ö†Ô∏è Compatibilit√© :</strong> WIA peut ne pas supporter tous les scanners<br>
        <strong>‚úÖ Automatisation :</strong> Num√©risation automatis√©e possible<br>
        <strong>üö® Sc√©nario :</strong> "Num√©risation automatis√©e de documents"
      </div>
    </div>

    <!-- Linux - Imprimantes -->
    <h3 id="peripheriques-linux-printers"><i class="fab fa-linux linux-icon"></i> 4. Linux (CLI) - Imprimantes</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Lister les imprimantes
lpstat -p -d

# Installer une imprimante CUPS (Common Unix Printing System)
sudo lpadmin -p HP_LaserJet -E -v socket://192.168.1.10 -m drv:///HP/hp-laserjet.ppd.gz

# D√©finir l'imprimante par d√©faut
sudo lpoptions -d HP_LaserJet

# Soumettre un travail d'impression
lpr -P HP_LaserJet document.pdf

# Annuler un travail d'impression
lprm -P HP_LaserJet 15

# G√©rer les files d'attente
lpq -P HP_LaserJet

# Configurer une imprimante r√©seau Samba
sudo lpadmin -p "Office_Printer" -E -v "smb://user:password@print-server/HP_Color" -m everywhere</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des imprimantes sous Linux<br>
        <strong>‚ö†Ô∏è CUPS :</strong> Service CUPS doit √™tre install√© et d√©marr√©<br>
        <strong>‚úÖ R√©seau :</strong> Support des imprimantes r√©seau √©tendu<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'une imprimante r√©seau sous Linux"
      </div>
    </div>

    <!-- Linux - P√©riph√©riques USB et autres -->
    <h3 id="peripheriques-linux-usb"><i class="fab fa-linux linux-icon"></i> 5. Linux (CLI) - P√©riph√©riques USB et autres</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Lister tous les p√©riph√©riques USB
lsusb
lsusb -v  # Version d√©taill√©e

# Identifier un p√©riph√©rique sp√©cifique
udevadm info -a -n /dev/sdb | grep -i "idVendor\|idProduct"

# Monter un p√©riph√©rique USB
sudo mkdir /mnt/usbdrive
sudo mount /dev/sdb1 /mnt/usbdrive -o uid=1000,gid=1000

# D√©montrer un p√©riph√©rique USB
sudo umount /mnt/usbdrive

# G√©rer les moniteurs avec xrandr
xrandr  # Lister les affichages disponibles
xrandr --output HDMI-1 --auto --right-of eDP-1  # Configurer multi-√©crans
xrandr --output HDMI-1 --off  # D√©sactiver un √©cran

# Configurer les p√©riph√©riques audio
pactl list short sinks  # Lister les p√©riph√©riques de sortie
pactl set-default-sink alsa_output.pci-0000_00_1b.0.analog-stereo  # D√©finir la sortie par d√©faut</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des p√©riph√©riques sous Linux<br>
        <strong>‚ö†Ô∏è Permissions :</strong> Attention aux droits sur les p√©riph√©riques<br>
        <strong>‚úÖ Contr√¥le :</strong> Contr√¥le granulaire du mat√©riel<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'un setup multi-√©crans"
      </div>
    </div>

    <!-- Linux - Scanners -->
    <h3 id="peripheriques-linux-scanners"><i class="fab fa-linux linux-icon"></i> 6. Linux (CLI) - Scanners</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Installer SANE (Scanner Access Now Easy)
sudo apt install sane sane-utils xsane

# Lister les scanners disponibles
scanimage -L

# Scanner un document (format PNG)
scanimage --format=png --output-file scan.png --resolution 300dpi --mode Color

# Scanner en PDF (n√©cessite imagemagick)
scanimage --format=tiff --resolution 300dpi | convert - scan.pdf

# Configurer un scanner r√©seau
sudo nano /etc/sane.d/net.conf
# Ajouter l'adresse IP du serveur de scanner: 192.168.1.20</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion des scanners sous Linux<br>
        <strong>‚ö†Ô∏è Compatibilit√© :</strong> V√©rifier la compatibilit√© SANE du scanner<br>
        <strong>‚úÖ Qualit√© :</strong> Contr√¥le pr√©cis des param√®tres de scan<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'un scanner r√©seau sous Linux"
      </div>
    </div>

    <!-- Scripts avanc√©s -->
    <h3 id="peripheriques-scripts"><i class="fas fa-code"></i> 7. Scripts avanc√©s</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code>#!/bin/bash
# Script Linux de surveillance USB
while true; do
    USB_DEVICES=$(lsusb | wc -l)
    if [ $USB_DEVICES -gt 2 ]; then
        echo "Alerte : Nouveau p√©riph√©rique USB d√©tect√© $(date)" >> /var/log/usb_monitor.log
        lsusb >> /var/log/usb_monitor.log
    fi
    sleep 5
done

<#
# Script PowerShell pour d√©ployer des imprimantes
$Printers = Import-Csv "C:\deploy\printers.csv"
foreach ($printer in $Printers) {
    if ($printer.Type -eq "Network") {
        Add-Printer -ConnectionName $printer.Path
    } else {
        Add-Printer -Name $printer.Name -DriverName $printer.Driver -PortName $printer.Port
    }
    if ($printer.Shared -eq $true) {
        Set-Printer -Name $printer.Name -Shared $true -ShareName $printer.ShareName
    }
}
#></code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation de la gestion des p√©riph√©riques<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Surveillance USB peut √™tre intrusive<br>
        <strong>‚úÖ Efficacit√© :</strong> D√©ploiement massif automatis√©<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement automatis√© d'imprimantes sur un parc"
      </div>
    </div>

    <!-- D√©pannage -->
    <h3 id="peripheriques-troubleshooting"><i class="fas fa-tools"></i> 8. D√©pannage</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag device">P√âRIPH√âRIQUES</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Windows - V√©rifier les erreurs de p√©riph√©rique
Get-WinEvent -LogName System | Where-Object {$_.ProviderName -match "USB|Print"} | 
    Select-Object TimeCreated, Message | Format-Table -AutoSize

# Linux - Journal des p√©riph√©riques
sudo journalctl -b | grep -i "usb\|print\|scanner"
sudo dmesg | grep -i "new device"

# R√©initialiser le sous-syst√®me USB (Linux)
echo 0 | sudo tee /sys/bus/usb/devices/usb1/authorized
echo 1 | sudo tee /sys/bus/usb/devices/usb1/authorized

# R√©installer un pilote (Windows)
pnputil.exe /delete-driver oem0.inf /uninstall
pnputil.exe /add-driver "C:\Drivers\new_driver.inf" /install</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic de probl√®mes mat√©riels<br>
        <strong>‚ö†Ô∏è Hardware :</strong> Manipulation directe du mat√©riel<br>
        <strong>‚úÖ R√©solution :</strong> M√©thodes pour r√©soudre les conflits<br>
        <strong>üö® Sc√©nario :</strong> "P√©riph√©rique USB non reconnu"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION TCPDUMP -->
    <!-- ============================ -->

    <h2><i class="fas fa-network-wired network-icon"></i> Tcpdump - Capture de paquets</h2>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># Capturer les paquets UDP RIP
tcpdump -i any or &lt;Interface&gt; port 250(ou autres selon la situation) -vv -n

# Capturer les paquets avec une adresse IP sp√©cifique
tcpdump -i eth0 -nn 'host 224.0.0.9'

# V√©rifier le trafic NAT
sudo tcpdump -i &lt;interface_host_local&gt; host NAT &lt;IP_WINDOWS&gt;</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Analyse avanc√©e du trafic r√©seau<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> Droits root/sudo n√©cessaires<br>
        <strong>‚úÖ Avantages :</strong> Analyse en temps r√©el, filtrage puissant<br>
        <strong>üö® Sc√©nario :</strong> "Debug de probl√®mes r√©seau complexes"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION PING AVANC√â -->
    <!-- ============================ -->

    <h2><i class="fas fa-network-wired network-icon"></i> Ping Avanc√©</h2>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 5 secondes</span>
      </div>
      <pre><code># Ping depuis une IP source sp√©cifique
ping -S &lt;IP source&gt; -c 3 &lt;IP Destination&gt;</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Test de connectivit√© depuis une IP sp√©cifique<br>
        <strong>‚ö†Ô∏è Interface :</strong> L'IP source doit √™tre configur√©e sur une interface<br>
        <strong>‚úÖ Avantages :</strong> Test de routage sp√©cifique<br>
        <strong>üö® Sc√©nario :</strong> "V√©rification du routage depuis un sous-r√©seau sp√©cifique"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION TABLE DE ROUTAGE -->
    <!-- ============================ -->

    <h2><i class="fas fa-network-wired network-icon"></i> Table de routage</h2>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag reseau">R√âSEAU</span>
        <span class="tag">‚è±Ô∏è 2 secondes</span>
      </div>
      <pre><code># Afficher la table de routage (Linux et Windows)
netstat -rn</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Consultation rapide de la table de routage<br>
        <strong>‚ö†Ô∏è Alternative :</strong> Sur Linux moderne, pr√©f√©rer `ip route`<br>
        <strong>‚úÖ Compatibilit√© :</strong> Fonctionne sur Linux et Windows<br>
        <strong>üö® Sc√©nario :</strong> "V√©rification rapide des routes sur n'importe quel syst√®me"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION ANALYSE DES LOGS -->
    <!-- ============================ -->

    <h2><i class="fas fa-search linux-icon"></i> Analyse des logs sous Linux</h2>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Afficher les logs RIP
grep RIP /var/log/system.log

# Afficher les logs RIP en temps r√©el
tail -f /var/log/system.log | grep ripd

# V√©rifier le service RIP
ps aux | grep ripd</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Diagnostic des services et protocoles r√©seau<br>
        <strong>‚ö†Ô∏è Fichiers :</strong> Les chemins de logs peuvent varier selon la distribution<br>
        <strong>‚úÖ Avantages :</strong> Debug pr√©cis des probl√®mes de services<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®mes avec le protocole RIP"
      </div>
    </div>



    <!-- ============================ -->
    <!-- SECTION VIRTUALISATION - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="virtualisation"><i class="fas fa-cloud virt-icon"></i> Virtualisation</h2>

    <!-- KVM/QEMU -->
    <h3 id="virtualisation-kvm"><i class="fas fa-server"></i> 1. KVM/QEMU</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Installer KVM sur Ubuntu
sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager

# V√©rifier que la virtualisation est activ√©e
kvm-ok</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place de virtualisation KVM<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> Support VT-x/AMD-V dans le CPU<br>
        <strong>‚úÖ Performance :</strong> Virtualisation native performante<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation d'un serveur de virtualisation Linux"
      </div>
    </div>

    <div class="note">
        <p><strong>Note :</strong> Apr√®s installation, ajoutez votre utilisateur au groupe libvirt :</p>
        <pre><code>sudo usermod -aG libvirt $USER</code></pre>
    </div>

    <!-- VMware ESXi -->
    <h3 id="virtualisation-esxi"><i class="fab fa-vmware"></i> 2. VMware ESXi</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Connexion et informations de base
ssh root@adresse_ip_esxi                       # Se connecter √† ESXi via SSH
vmware -v                                      # Afficher la version d'ESXi
esxcli system hostname get                     # Afficher les informations sur l'h√¥te
esxcli system version get 

# Gestion des VMs
vim-cmd vmsvc/getallvms                       # Lister toutes les VMs
vim-cmd vmsvc/power.on XX                     # D√©marrer une VM (remplacez `XX` par l'ID de la VM)
vim-cmd vmsvc/power.off XX                    # Arr√™ter une VM
vim-cmd vmsvc/power.reset XX                  # Red√©marrer une VM
vim-cmd vmsvc/power.getstate XX               # Voir l'√©tat d'une VM

# Gestion du stockage
esxcli storage filesystem list                # Lister les datastores
df -h                                         # Voir l'espace disque disponible
ls -lh /vmfs/volumes/                         # Lister les volumes

# Transfert de fichiers
scp &lt;Repertoire_source_fichier&gt; root@&lt;IP-Machine-ESXI&gt;:/Volumes-Reprtoire_Destionation_Machine-ESXI
# Exemple: scp debian.iso root@192.168.100.10:/vmfs/volumes/ISO/

# Gestion r√©seau
esxcli network nic list                       # Lister les interfaces r√©seau
esxcli network vswitch standard list          # Voir les vSwitches
vmkping google.com                            # Tester la connectivit√© r√©seau

# Administration syst√®me
reboot                                        # Red√©marrer l'h√¥te
poweroff                                      # √âteindre l'h√¥te</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration d'un hyperviseur ESXi<br>
        <strong>‚ö†Ô∏è Production :</strong> ESXi est un hyperviseur enterprise<br>
        <strong>‚úÖ Performance :</strong> Optimis√© pour la virtualisation<br>
        <strong>üö® Sc√©nario :</strong> "Gestion d'une infrastructure VMware"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION SAUVEGARDE - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->
 

    <h2 id="backup"><i class="fas fa-save backup-icon"></i> Sauvegarde et Restauration</h2>

    <!-- Sauvegarde bases de donn√©es -->
    <h3 id="backup-databases"><i class="fas fa-database"></i> 1. Bases de donn√©es</h3>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag backup">SAUVEGARDE</span>
        <span class="tag">‚è±Ô∏è Variable</span>
      </div>
      <pre><code># MySQL dump complet
mysqldump -u root -p --all-databases > backup_complet_$(date +%Y%m%d).sql

# Sauvegarde d'une base sp√©cifique
mysqldump -u root -p ma_base_de_donnees > backup_ma_base_$(date +%Y%m%d).sql

# Sauvegarde PostgreSQL compl√®te
sudo pg_dumpall -U postgres > postgres_backup_$(date +%Y%m%d).sql

# Sauvegarde d'une base PostgreSQL sp√©cifique
pg_dump -U postgres ma_base > postgres_ma_base_$(date +%Y%m%d).sql

# Compression imm√©diate
mysqldump -u root -p --all-databases | gzip > backup_$(date +%Y%m%d).sql.gz

# Sauvegarde avec timestamp
mysqldump -u root -p --all-databases > backup_$(date +"%Y%m%d_%H%M%S").sql</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Sauvegarde des bases de donn√©es critiques<br>
        <strong>‚ö†Ô∏è Taille :</strong> Les sauvegardes compl√®tes peuvent √™tre volumineuses<br>
        <strong>‚úÖ Test :</strong> Toujours tester la restauration des sauvegardes<br>
        <strong>üö® Sc√©nario :</strong> "Sauvegarde avant mise √† jour majeure de base de donn√©es"
      </div>
    </div>

    <!-- Sauvegarde fichiers avec tar -->
    <h3 id="backup-tar"><i class="fas fa-archive"></i> 2. Sauvegarde avec tar</h3>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag backup">SAUVEGARDE</span>
        <span class="tag">‚è±Ô∏è Variable</span>
      </div>
      <pre><code># Sauvegarde avec tar
sudo tar -czvf backup-$(date +%F).tar.gz /dossier/a/sauvegarder

# Sauvegarde avec exclusion de fichiers
tar -czvf backup-$(date +%F).tar.gz --exclude='*.tmp' --exclude='cache/*' /dossier

# Sauvegarde incr√©mentielle bas√©e sur la date
tar -czvf backup-$(date +%Y%m%d).tar.gz /dossier/important

# Liste le contenu d'une archive
tar -tzf backup-2023-12-01.tar.gz

# Extraction d'archive
tar -xzvf backup-2023-12-01.tar.gz -C /dossier/restauration</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Sauvegarde d'arborescences de fichiers<br>
        <strong>‚ö†Ô∏è Compression :</strong> L'option -z compresse avec gzip<br>
        <strong>‚úÖ Avantages :</strong> Pr√©servation des permissions, compression<br>
        <strong>üö® Sc√©nario :</strong> "Sauvegarde de la configuration syst√®me"
      </div>
    </div>

    <!-- Sauvegarde incr√©mentielle rsync -->
    <h3 id="backup-rsync"><i class="fas fa-sync-alt"></i> 3. Sauvegarde incr√©mentielle avec rsync</h3>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag maintenance">MAINTENANCE</span>
        <span class="tag backup">SAUVEGARDE</span>
        <span class="tag">‚è±Ô∏è Rapide</span>
      </div>
      <pre><code># Sauvegarde incr√©mentielle avec liens durs
sudo rsync -av --delete --link-dest=/previous/backup /source /destination/backup-$(date +%F)

# Sauvegarde simple
rsync -av /source/ /destination/backup-$(date +%Y%m%d)/

# Sauvegarde avec exclusion
rsync -av --exclude='*.tmp' --exclude='cache/' /source/ /destination/

# Sauvegarde via SSH
rsync -av -e ssh /dossier/local/ utilisateur@serveur:/dossier/backup/

# Synchronisation bidirectionnelle
rsync -av /source/ /destination/ --update</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Sauvegardes fr√©quentes et efficaces<br>
        <strong>‚ö†Ô∏è Suppression :</strong> --delete peut √™tre dangereux<br>
        <strong>‚úÖ Avantages :</strong> Seuls les fichiers modifi√©s sont copi√©s<br>
        <strong>üö® Sc√©nario :</strong> "Sauvegarde quotidienne des donn√©es utilisateurs"
      </div>
    </div>

    <!-- Planification des sauvegardes -->
    <h3 id="backup-automation"><i class="fas fa-robot"></i> 4. Automatisation des sauvegardes</h3>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag backup">SAUVEGARDE</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Planifier des sauvegardes avec cron
(crontab -l 2>/dev/null; echo "0 2 * * * /chemin/vers/script_backup.sh") | crontab -

# Exemple de crontab
# Tous les jours √† 2h du matin
0 2 * * * /root/scripts/backup_daily.sh

# Tous les dimanches √† 3h
0 3 * * 0 /root/scripts/backup_weekly.sh

# Tous les 1er du mois √† 4h
0 4 1 * * /root/scripts/backup_monthly.sh

# Script de sauvegarde automatique exemple
#!/bin/bash
BACKUP_DIR="/backup/$(date +%Y%m%d)"
mkdir -p $BACKUP_DIR
mysqldump -u root -p --all-databases > $BACKUP_DIR/mysql_backup.sql
tar -czf $BACKUP_DIR/config_backup.tar.gz /etc/</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place de sauvegardes automatis√©es<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Stocker les mots de passe de mani√®re s√©curis√©e<br>
        <strong>‚úÖ Avantages :</strong> Sauvegardes r√©guli√®res sans intervention<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'une strat√©gie de sauvegarde automatique"
      </div>
    </div>

    <!-- Strat√©gies de sauvegarde -->
    <h3 id="backup-strategies"><i class="fas fa-chess-board"></i> 5. Strat√©gies de sauvegarde</h3>
    
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag planning">PLANIFICATION</span>
        <span class="tag backup">SAUVEGARDE</span>
        <span class="tag">‚è±Ô∏è Planification</span>
      </div>
      <pre><code># R√®gle 3-2-1
# 3 copies des donn√©es
# 2 supports diff√©rents
# 1 copie hors-site

# Script de rotation des sauvegardes
#!/bin/bash
BACKUP_DIR="/backup"
# Supprimer les sauvegardes de plus de 30 jours
find $BACKUP_DIR -name "backup_*" -mtime +30 -delete

# V√©rification int√©grit√© des sauvegardes
md5sum backup_file.tar.gz > backup_file.tar.gz.md5
md5sum -c backup_file.tar.gz.md5

# Sauvegarde diff√©rentielle exemple
tar -czf backup_full_$(date +%Y%m%d).tar.gz /data
tar -czf backup_diff_$(date +%Y%m%d).tar.gz -N "2023-12-01" /data</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Planification d'une strat√©gie de sauvegarde robuste<br>
        <strong>‚ö†Ô∏è Test :</strong> Tester r√©guli√®rement la restauration<br>
        <strong>‚úÖ Bonne pratique :</strong> R√®gle 3-2-1 pour la r√©silience<br>
        <strong>üö® Sc√©nario :</strong> "√âlaboration d'un plan de reprise d'activit√©"
      </div>
    </div>

    <div class="warning">
        <p><strong>‚ö†Ô∏è ATTENTION CRITIQUE :</strong> Stockez toujours les sauvegardes dans un emplacement s√©curis√© et chiffr√©. Testez r√©guli√®rement les restaurations !</p>
    </div>

    <!-- Workflow de sauvegarde -->
    <div class="workflow">
      <h3>üíæ Workflow de Sauvegarde Recommand√©</h3>
      <ol>
        <li onclick="scrollToCommand('backup-databases')">1. Sauvegarder les bases de donn√©es critiques</li>
        <li onclick="scrollToCommand('backup-tar')">2. Archiver les configurations syst√®me</li>
        <li onclick="scrollToCommand('backup-rsync')">3. Synchroniser les donn√©es utilisateurs</li>
        <li onclick="scrollToCommand('backup-automation')">4. Automatiser les sauvegardes r√©currentes</li>
        <li onclick="scrollToCommand('backup-strategies')">5. Impl√©menter une strat√©gie 3-2-1</li>
      </ol>
    </div>

    <!-- ============================ -->
    <!-- SECTION MONITORING - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="monitoring"><i class="fas fa-chart-bar monitoring-icon"></i> Monitoring</h2>

    <!-- Outils de base monitoring -->
    <h3 id="monitoring-basic"><i class="fas fa-server"></i> 1. Outils de base</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 30 secondes</span>
      </div>
      <pre><code># V√©rification de l'√©tat du syst√®me (Linux)
top
htop
glances  # Version am√©lior√©e avec plus de m√©triques

# Surveillance des disques
iotop -o  # Affiche les E/S disque en temps r√©el
iftop     # Surveillance du trafic r√©seau

# Installer NetData (monitoring complet)
bash <(curl -Ss https://my-netdata.io/kickstart.sh)</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Monitoring basique des syst√®mes<br>
        <strong>üîç Temps r√©el :</strong> Outils pour surveillance imm√©diate<br>
        <strong>‚úÖ Visuel :</strong> NetData offre une interface web compl√®te<br>
        <strong>üö® Sc√©nario :</strong> "Diagnostic rapide de performance syst√®me"
      </div>
    </div>

    <!-- Solutions professionnelles monitoring -->
    <h3 id="monitoring-pro"><i class="fas fa-network-wired"></i> 2. Solutions professionnelles</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># Prometheus (collecte de m√©triques)
# Installation:
wget https://github.com/prometheus/prometheus/releases/download/v2.30.3/prometheus-2.30.3.linux-amd64.tar.gz
tar xvfz prometheus-*.tar.gz
cd prometheus-*
./prometheus --config.file=prometheus.yml

# Grafana (visualisation)
sudo apt-get install -y grafana
sudo systemctl start grafana-server
sudo systemctl enable grafana-server</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place de monitoring d'entreprise<br>
        <strong>‚ö†Ô∏è Complexit√© :</strong> Solution avanc√©e n√©cessitant configuration<br>
        <strong>‚úÖ Puissance :</strong> Monitoring scalable et personnalisable<br>
        <strong>üö® Sc√©nario :</strong> "Monitoring d'une infrastructure compl√®te"
      </div>
    </div>

    <!-- Alerting monitoring -->
    <h3 id="monitoring-alerting"><i class="fas fa-bell"></i> 3. Alerting</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Configurer Alertmanager avec Prometheus
global:
  resolve_timeout: 5m
route:
  group_by: ['alertname']
  receiver: 'email-notifications'
receivers:
- name: 'email-notifications'
  email_configs:
  - to: 'admin@example.com'
    from: 'alertmanager@example.com'
    smarthost: 'smtp.example.com:587'
    auth_username: 'user'
    auth_password: 'password'</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration d'alertes de monitoring<br>
        <strong>‚ö†Ô∏è Testing :</strong> Tester les alertes avant d√©ploiement<br>
        <strong>‚úÖ Proactif :</strong> D√©tection pr√©coce des probl√®mes<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'alertes pour services critiques"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION S√âCURIT√â - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="securite"><i class="fas fa-shield-alt security-icon"></i> S√©curit√©</h2>

    <!-- Audit et analyse s√©curit√© -->
    <h3 id="security-audit"><i class="fas fa-search"></i> 1. Audit et analyse</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># Scan de vuln√©rabilit√©s avec OpenVAS
sudo apt install openvas
sudo gvm-setup
sudo gvm-start

# Analyse avec Lynis (audit de s√©curit√©)
sudo lynis audit system

# V√©rification des ports ouverts
nmap -sS -p- -T4 192.168.1.1  # Scan TCP SYN
nmap -sU -p- -T4 192.168.1.1  # Scan UDP</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Audit de s√©curit√© des syst√®mes<br>
        <strong>‚ö†Ô∏è Autorisation :</strong> S'assurer d'avoir l'autorisation de scanner<br>
        <strong>‚úÖ Complet :</strong> Analyse approfondie des vuln√©rabilit√©s<br>
        <strong>üö® Sc√©nario :</strong> "Audit de s√©curit√© p√©riodique"
      </div>
    </div>

    <!-- Hardening s√©curit√© -->
    <h3 id="security-hardening"><i class="fas fa-lock"></i> 2. Hardening</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># CIS Benchmark (Windows)
Install-Module -Name CISBenchmark -Force
Get-CISBenchmark -Level 1 | Invoke-CISBenchmark

# Hardening Linux avec Bastille
sudo apt install bastille
sudo bastille -c

# D√©sactivation des services inutiles (Linux)
sudo systemctl list-unit-files --state=enabled
sudo systemctl disable [service_name]</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Renforcement de la s√©curit√© des syst√®mes<br>
        <strong>‚ö†Ô∏è Test :</strong> Tester en environnement de test d'abord<br>
        <strong>‚úÖ Conformit√© :</strong> Respect des standards de s√©curit√©<br>
        <strong>üö® Sc√©nario :</strong> "S√©curisation d'un serveur expos√© sur Internet"
      </div>
    </div>

    <!-- Forensic s√©curit√© -->
    <h3 id="security-forensic"><i class="fas fa-user-secret"></i> 3. Forensic</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag diagnostic">DIAGNOSTIC</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Analyse des processus suspects
ps aux | grep -E '(crypt|miner|attack)'

# Recherche de fichiers modifi√©s r√©cemment
find / -type f -mtime -1 -print

# Capture de trafic suspect
tcpdump -i eth0 -w capture.pcap 'port not 22 and port not 80 and port not 443'</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Investigation d'incidents de s√©curit√©<br>
        <strong>‚ö†Ô∏è Preuve :</strong> Conserver la cha√Æne de preuve<br>
        <strong>‚úÖ Analyse :</strong> M√©thodologie d'investigation<br>
        <strong>üö® Sc√©nario :</strong> "Investigation d'une possible intrusion"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION CONTAINERS - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="containers"><i class="fab fa-docker docker-icon"></i> Containers</h2>

    <!-- Docker -->
    <h3 id="containers-docker"><i class="fas fa-box"></i> 1. Docker</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag docker">CONTAINERS</span>
        <span class="tag">‚è±Ô∏è 2 minutes</span>
      </div>
      <pre><code># Gestion des containers
docker ps -a                          # Lister tous les containers
docker stats                          # Statistiques en temps r√©el
docker inspect [container_id]         # D√©tails d'un container

# Gestion des images
docker images                         # Lister les images
docker image prune                    # Nettoyer les images inutilis√©es

# R√©seau Docker
docker network ls                     # Lister les r√©seaux
docker network inspect bridge         # Inspecter un r√©seau

# Installation de Neko Navigateur avec Docker
docker run -d \
  --name neko \                               # Nom du projet dans docker
  -e NEKO_PASSWORD=34PenetrationTest \        # Mot de passe utilisateur Neko
  -e NEKO_PASSWORD_ADMIN=34PenetrationTest \  # Mot de passe Admin
  -p 8090:8080 \                           # Port d'acc√®s √† neko
  -p 52000-52100:52000-52100/udp \
  --shm-size=2gb \
  --cap-add=SYS_ADMIN \
  --device /dev/snd \
  --security-opt seccomp=unconfined \
  --rm \
  m1k1o/neko:firefox                       # D√©marrer neko avec le navigateur firefox</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion de containers Docker<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Attention aux privil√®ges accord√©s<br>
        <strong>‚úÖ Isolation :</strong> Environnements s√©par√©s et contr√¥l√©s<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'applications conteneuris√©es"
      </div>
    </div>

    <!-- Docker Compose -->
    <h3 id="containers-compose"><i class="fas fa-project-diagram"></i> 2. Docker Compose</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag docker">CONTAINERS</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># D√©ployer une stack
docker-compose -f stack.yml up -d

# Surveiller les logs
docker-compose logs -f --tail=100

# Scale de services
docker-compose up -d --scale web=3 --scale worker=5</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Orchestration d'applications multi-conteneurs<br>
        <strong>‚ö†Ô∏è D√©pendances :</strong> G√®re automatiquement les d√©pendances<br>
        <strong>‚úÖ Simplicit√© :</strong> D√©ploiement coh√©rent et reproductible<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'une application avec base de donn√©es"
      </div>
    </div>

    <!-- Kubernetes -->
    <h3 id="containers-kubernetes"><i class="fas fa-cloud"></i> 3. Kubernetes</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag docker">CONTAINERS</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Commandes kubectl de base
kubectl get pods -A                   # Lister tous les pods
kubectl describe node [node_name]     # D√©tails d'un noeud
kubectl logs [pod_name]               # Voir les logs d'un pod

# Surveillance
kubectl top nodes                     # Utilisation ressources des noeuds
kubectl top pods                      # Utilisation ressources des pods

# D√©ploiement
kubectl apply -f deployment.yml       # D√©ployer une configuration
kubectl rollout status deployment/[deployment_name]</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Orchestration de containers en production<br>
        <strong>‚ö†Ô∏è Complexit√© :</strong> Courbe d'apprentissage importante<br>
        <strong>‚úÖ Scalabilit√© :</strong> Gestion automatique de la charge<br>
        <strong>üö® Sc√©nario :</strong> "Orchestration d'applications microservices"
      </div>
    </div>

    <div class="note">
        <p><strong>Bonnes pratiques Docker :</strong></p>
        <ul>
            <li>Utiliser des images officielles et v√©rifi√©es</li>
            <li>Limiter les privil√®ges des containers (--cap-drop)</li>
            <li>Scanner r√©guli√®rement les images avec Docker Bench Security</li>
        </ul>
    </div>

    <!-- ============================ -->
    <!-- SECTION CLOUD & IaC - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="cloud"><i class="fas fa-cloud cloud-icon"></i> Cloud & Infrastructure as Code</h2>

    <!-- AWS CLI -->
    <h3 id="cloud-aws"><i class="fab fa-aws"></i> 1. AWS CLI</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag cloud">CLOUD</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Configuration AWS CLI
aws configure
aws configure set region eu-west-1

# Gestion EC2
aws ec2 describe-instances
aws ec2 start-instances --instance-ids i-1234567890abcdef0
aws ec2 create-image --instance-id i-1234567890abcdef0 --name "Backup-$(date +%Y%m%d)"

# Gestion S3
aws s3 ls
aws s3 cp fichier.txt s3://mon-bucket/
aws s3 sync ./local-folder s3://mon-bucket/backup/

# Gestion IAM
aws iam list-users
aws iam create-user --user-name new-user
aws iam attach-user-policy --user-name new-user --policy-arn arn:aws:iam::aws:policy/AdministratorAccess

# CloudFormation
aws cloudformation create-stack --stack-name my-stack --template-body file://template.yaml
aws cloudformation describe-stacks --stack-name my-stack</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion d'infrastructure AWS<br>
        <strong>‚ö†Ô∏è Co√ªt :</strong> Surveiller l'utilisation pour √©viter les surprises<br>
        <strong>‚úÖ Automatisation :</strong> Gestion compl√®te via CLI<br>
        <strong>üö® Sc√©nario :</strong> "Gestion d'une infrastructure cloud AWS"
      </div>
    </div>

    <!-- Azure CLI -->
    <h3 id="cloud-azure"><i class="fab fa-microsoft"></i> 2. Azure CLI</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag cloud">CLOUD</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Connexion Azure
az login
az account list --output table

# Gestion VM
az vm list --output table
az vm start --name MyVM --resource-group MyResourceGroup
az vm create --resource-group MyRG --name MyVM --image UbuntuLTS --admin-username azureuser

# Gestion Stockage
az storage account list --resource-group MyRG
az storage blob upload --account-name mystorage --container-name mycontainer --name blob.txt --file ./blob.txt

# Azure Resource Manager
az group create --name MyRG --location "West Europe"
az deployment group create --resource-group MyRG --template-file template.json</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion d'infrastructure Azure<br>
        <strong>‚ö†Ô∏è Abonnement :</strong> V√©rifier le contexte d'abonnement<br>
        <strong>‚úÖ Coh√©rence :</strong> Interface unifi√©e pour tous les services<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'infrastructure sur Azure"
      </div>
    </div>

    <!-- Terraform -->
    <h3 id="cloud-terraform"><i class="fas fa-code"></i> 3. Terraform</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag cloud">CLOUD</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># Initialisation
terraform init
terraform init -upgrade

# Planification
terraform plan -out plan.tfplan
terraform plan -var "instance_type=t3.medium"

# Application
terraform apply
terraform apply -auto-approve
terraform apply plan.tfplan

# √âtat et inspection
terraform state list
terraform state show aws_instance.web
terraform output

# Destruction contr√¥l√©e
terraform plan -destroy
terraform destroy -target=aws_instance.web

# Workspaces
terraform workspace new dev
terraform workspace select prod
terraform workspace list</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Infrastructure as Code multi-cloud<br>
        <strong>‚ö†Ô∏è √âtat :</strong> G√©rer soigneusement le state file<br>
        <strong>‚úÖ Reproductibilit√© :</strong> Environnements identiques et versionn√©s<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'infrastructure reproductible"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION AUTOMATISATION - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="automation"><i class="fas fa-robot automation-icon"></i> Automatisation & Orchestration</h2>

    <!-- Ansible -->
    <h3 id="automation-ansible"><i class="fas fa-cogs"></i> 1. Ansible</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Test de connexion
ansible all -m ping -i inventory.ini

# Playbook simple
ansible-playbook -i inventory.ini playbook.yml
ansible-playbook playbook.yml --limit webservers
ansible-playbook playbook.yml --tags "nginx,ssl"

# Ad-hoc commands
ansible webservers -m apt -a "name=nginx state=latest" -b
ansible dbservers -m systemd -a "name=mysql state=started" -b
ansible all -m copy -a "src=config.txt dest=/etc/backup/"

# Vault pour secrets
ansible-vault create secret.yml
ansible-vault edit secret.yml
ansible-playbook playbook.yml --ask-vault-pass

# Galaxy roles
ansible-galaxy role install geerlingguy.nginx
ansible-galaxy collection install community.general</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation de configuration<br>
        <strong>‚ö†Ô∏è Idempotence :</strong> Les playbooks doivent √™tre idempotents<br>
        <strong>‚úÖ Agentless :</strong> Aucun agent √† installer sur les cibles<br>
        <strong>üö® Sc√©nario :</strong> "Configuration automatis√©e d'un parc de serveurs"
      </div>
    </div>

    <!-- Jenkins -->
    <h3 id="automation-jenkins"><i class="fab fa-jenkins"></i> 2. Jenkins & CI/CD</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># Pipeline Jenkins d√©claratif
pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean compile'
            }
        }
        stage('Test') {
            steps {
                sh 'mvn test'
            }
        }
        stage('Deploy') {
            steps {
                sh 'ansible-playbook deploy.yml'
            }
        }
    }
}

# Scripts Groovy pour administration
println(Jenkins.instance.pluginManager.plugins)
Jenkins.instance.nodes.each { node ->
    println("${node.displayName}: ${node.computer.online}")
}</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place de pipelines CI/CD<br>
        <strong>‚ö†Ô∏è Complexit√© :</strong> Courbe d'apprentissage pour les pipelines<br>
        <strong>‚úÖ Automatisation :</strong> Int√©gration et d√©ploiement continus<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un pipeline de d√©ploiement"
      </div>
    </div>

    <!-- API & Webhooks -->
    <h3 id="automation-api"><i class="fas fa-network-wired"></i> 3. API & Webhooks</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Curl pour tests API
curl -X GET "https://api.example.com/v1/servers" -H "Authorization: Bearer $TOKEN"
curl -X POST "https://api.example.com/v1/deploy" -H "Content-Type: application/json" -d '{"version":"1.2.3"}'

# Webhook avec Python Flask
from flask import Flask, request
import subprocess

app = Flask(__name__)

@app.route('/webhook/deploy', methods=['POST'])
def deploy_webhook():
    if request.headers.get('X-GitHub-Event') == 'push':
        subprocess.run(['/opt/scripts/deploy.sh'])
        return 'Deployment triggered', 200
    return 'Ignored', 202</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Int√©gration et automatisation via APIs<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Authentifier et autoriser les appels API<br>
        <strong>‚úÖ Flexibilit√© :</strong> Int√©gration avec √©cosyst√®me √©tendu<br>
        <strong>üö® Sc√©nario :</strong> "Automatisation via webhooks Git"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION BASES DE DONN√âES - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="databases"><i class="fas fa-database database-icon"></i> Bases de Donn√©es Avanc√©es</h2>

    <!-- PostgreSQL Avanc√© -->
    <h3 id="db-postgresql"><i class="fas fa-database"></i> 1. PostgreSQL Avanc√©</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag database">BASE DE DONN√âES</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Maintenance et performances
VACUUM (VERBOSE, ANALYZE) table_name;
REINDEX DATABASE database_name;
ANALYZE table_name;

# Surveillance avanc√©e
SELECT * FROM pg_stat_activity WHERE state = 'active';
SELECT schemaname, tablename, n_dead_tup FROM pg_stat_all_tables ORDER BY n_dead_tup DESC;

# Backup avanc√©
pg_basebackup -D /backup/primary -h primary-host -U replicator -P -v
pg_dump -Fc database_name > backup.dump  # Format custom compress√©

# R√©plication
SELECT * FROM pg_replication_slots;
SELECT client_addr, state, sync_state FROM pg_stat_replication;

# Partitioning
CREATE TABLE measurement (
    city_id int not null,
    logdate date not null,
    peaktemp int
) PARTITION BY RANGE (logdate);</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration avanc√©e PostgreSQL<br>
        <strong>‚ö†Ô∏è Performance :</strong> VACUUM peut impacter les performances<br>
        <strong>‚úÖ Optimisation :</strong> Maintenance r√©guli√®re n√©cessaire<br>
        <strong>üö® Sc√©nario :</strong> "Optimisation d'une base PostgreSQL en production"
      </div>
    </div>

    <!-- MySQL/MariaDB Avanc√© -->
    <h3 id="db-mysql"><i class="fas fa-database"></i> 2. MySQL/MariaDB Avanc√©</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag database">BASE DE DONN√âES</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Optimisation et tuning
SHOW ENGINE INNODB STATUS;
SHOW PROCESSLIST;
EXPLAIN ANALYZE SELECT * FROM large_table WHERE condition;

# Backup et r√©plication
mysqldump --single-transaction --routines --triggers database_name > backup.sql
mysqlpump --users --routines --events > full_backup.sql

# R√©plication MySQL
SHOW MASTER STATUS;
SHOW SLAVE STATUS\G
CHANGE MASTER TO MASTER_HOST='master', MASTER_USER='repl', MASTER_PASSWORD='password';

# Performance Schema
SELECT * FROM performance_schema.events_statements_summary_by_digest ORDER BY sum_timer_wait DESC LIMIT 10;</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration avanc√©e MySQL/MariaDB<br>
        <strong>‚ö†Ô∏è R√©plication :</strong> Configurer soigneusement la r√©plication<br>
        <strong>‚úÖ Monitoring :</strong> Performance Schema pour analyse d√©taill√©e<br>
        <strong>üö® Sc√©nario :</strong> "Configuration de la r√©plication MySQL"
      </div>
    </div>

    <!-- MongoDB -->
    <h3 id="db-mongodb"><i class="fas fa-bolt"></i> 3. MongoDB</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag database">BASE DE DONN√âES</span>
        <span class="tag">‚è±Ô∏è 3 minutes</span>
      </div>
      <pre><code># Op√©rations basiques
use mydb
db.collection.find({status: "active"}).sort({created_at: -1}).limit(10)
db.collection.createIndex({username: 1}, {unique: true})

# Agr√©gations
db.orders.aggregate([
    {$match: {status: "completed"}},
    {$group: {_id: "$customer_id", total: {$sum: "$amount"}}},
    {$sort: {total: -1}}
])

# Backup et restauration
mongodump --uri="mongodb://localhost:27017/mydb" --out=/backup/
mongorestore --uri="mongodb://localhost:27017/mydb" /backup/mydb/

# Performance
db.collection.explain().find({query: "condition"})
db.currentOp({"secs_running": {"$gte": 60}})</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Administration de bases MongoDB<br>
        <strong>‚ö†Ô∏è Indexation :</strong> Crucial pour les performances<br>
        <strong>‚úÖ Flexibilit√© :</strong> Sch√©ma dynamique et agr√©gations puissantes<br>
        <strong>üö® Sc√©nario :</strong> "Gestion d'une base de donn√©es NoSQL"
      </div>
    </div>
    
        <!-- ============================ -->
    <!-- SECTION LABO - LOGICIELS DU LABORATOIRE -->
    <!-- ============================ -->

    <h2 id="lab"><i class="fas fa-flask lab-icon"></i> Logiciels du Laboratoire</h2>

    <!-- Introduction -->
    <div class="context-box">
      <strong>üéØ Objectif :</strong> Cette section recense tous les logiciels utilis√©s dans l'environnement de laboratoire<br>
      <strong>üìÅ Cat√©gories :</strong> Virtualisation, Monitoring, S√©curit√©, Containers, Outils r√©seau<br>
      <strong>üîß Usage :</strong> R√©f√©rence rapide pour l'installation, configuration et d√©pannage
    </div>

    <!-- √âmulation & Virtualisation R√©seau -->
    <h3 id="lab-emulation"><i class="fas fa-network-wired"></i> 1. √âmulation & Virtualisation R√©seau</h3>

    <!-- EVE-NG -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># Installation EVE-NG
wget -O - http://www.eve-ng.net/keys/eve-ng.gpg.key | sudo apt-key add -
echo "deb http://www.eve-ng.net/repo xenial main" | sudo tee /etc/apt/sources.list.d/eve-ng.list
sudo apt update && sudo apt install eve-ng

# Gestion des images
/opt/unetlab/addons/qemu/
chown -R root:root /opt/unetlab/addons/qemu/
/opt/unetlab/wrappers/unl_wrapper -a fixpermissions

# Acc√®s web
https://[IP-EVE-NG]
# Identifiants par d√©faut : admin / eve

# Red√©marrage des services
/opt/unetlab/wrappers/unl_wrapper -a restart</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Simulation de r√©seaux complexes multi-fournisseurs<br>
        <strong>‚ö†Ô∏è Pr√©-requis :</strong> CPU avec virtualisation activ√©e, 8GB RAM minimum<br>
        <strong>‚úÖ Avantages :</strong> Support Cisco/Juniper/autres, communaut√© active<br>
        <strong>üö® Sc√©nario :</strong> "Pr√©paration de labos pour certification CCNP"
      </div>
    </div>

    <!-- GNS3 -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># Installation GNS3
sudo add-apt-repository ppa:gns3/ppa
sudo apt update
sudo apt install gns3-gui gns3-server

# Version All-in-One (Windows)
# T√©l√©charger depuis : https://www.gns3.com/software/download

# Configuration serveur
gns3server
# Acc√®s : http://localhost:3080

# Int√©gration VMware/VirtualBox
# Dans GNS3: Edit ‚Üí Preferences ‚Üí VirtualBox/VMware</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Prototypage de topologies r√©seau avec int√©gration Docker<br>
        <strong>‚ö†Ô∏è Performance :</strong> Peut √™tre gourmand en ressources<br>
        <strong>‚úÖ Avantages :</strong> Interface intuitive, multi-plateforme<br>
        <strong>üö® Sc√©nario :</strong> "Test de configuration r√©seau avant d√©ploiement r√©el"
      </div>
    </div>

    <!-- Hyperviseurs & Virtualisation -->
    <h3 id="lab-hyperviseurs"><i class="fas fa-server"></i> 2. Hyperviseurs & Virtualisation</h3>

    <!-- VMware ESXi -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 30 minutes</span>
      </div>
      <pre><code># Installation via ISO
# T√©l√©charger l'ISO depuis : https://customerconnect.vmware.com/

# Commandes ESXI utiles
esxcli system version get
esxcli network ip interface list
vim-cmd vmsvc/getallvms
vim-cmd vmsvc/power.on 1

# Configuration r√©seau
esxcli network ip interface ipv4 set -i vmk0 -t static -g 192.168.1.1 -I 192.168.1.10 -N 255.255.255.0

# Gestion stockage
esxcli storage filesystem list
esxcli storage nfs list</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Virtualisation d'entreprise pour infrastructures critiques<br>
        <strong>‚ö†Ô∏è Licence :</strong> Version free avec limitations<br>
        <strong>‚úÖ Avantages :</strong> Performance, vCenter, fonctionnalit√©s enterprise<br>
        <strong>üö® Sc√©nario :</strong> "Virtualisation de serveurs de production"
      </div>
    </div>

    <!-- Proxmox VE -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag virt">VIRTUALISATION</span>
        <span class="tag production">PRODUCTION</span>
        <span class="tag">‚è±Ô∏è 20 minutes</span>
      </div>
      <pre><code># Installation via ISO
# T√©l√©charger : https://www.proxmox.com/en/downloads

# Commandes Proxmox
pvesh get /nodes
qm list
qm start 100
vzdump 100 --storage backup-storage --mode snapshot

# Cr√©ation VM via CLI
qm create 200 --name "ubuntu-server" --memory 2048 --cores 2 --net0 virtio,bridge=vmbr0

# Gestion cluster
pvecm create CLUSTER_NAME
pvecm add NODE_IP</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Alternative open-source √† VMware, laboratoires<br>
        <strong>‚ö†Ô∏è Cluster :</strong> Configuration r√©seau critique pour le clustering<br>
        <strong>‚úÖ Avantages :</strong> Gratuit, interface web, sauvegardes int√©gr√©es<br>
        <strong>üö® Sc√©nario :</strong> "Mise en place d'un environnement de test virtualis√©"
      </div>
    </div>

    <!-- Acc√®s Distant & Bureau -->
    <h3 id="lab-acces-distant"><i class="fas fa-desktop"></i> 3. Acc√®s Distant & Bureau</h3>

    <!-- Apache Guacamole -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag web">WEB</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># Docker Compose Guacamole
version: '3'
services:
  guacamole:
    image: guacamole/guacamole
    ports: ["8080:8080"]
    environment:
      - GUACD_HOSTNAME=guacd
      - MYSQL_HOSTNAME=mysql
  guacd:
    image: guacamole/guacd
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: guacamole_db
      MYSQL_USER: guacamole_user
      MYSQL_PASSWORD: guacamole_password

# Initialisation base
docker run --rm guacamole/guacamole /opt/guacamole/bin/initdb.sh --mysql > initdb.sql
docker exec -i mysql mysql -u root -prootpassword guacamole_db < initdb.sql</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Centralisation des acc√®s RDP/SSH/VNC<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Configurer SSL et authentification forte<br>
        <strong>‚úÖ Avantages :</strong> Clientless, authentification centralis√©e, MFA<br>
        <strong>üö® Sc√©nario :</strong> "Acc√®s unifi√© √† tous les serveurs du labo"
      </div>
    </div>

    <!-- Neko -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag docker">CONTAINERS</span>
        <span class="tag">‚è±Ô∏è 5 minutes</span>
      </div>
      <pre><code># Installation Neko avec Docker
docker run -d \
  --name=neko \
  --restart=unless-stopped \
  -e NEKO_PASSWORD=monMotDePasse \
  -e NEKO_PASSWORD_ADMIN=monMotDePasseAdmin \
  -p 8080:8080 \
  -p 52000-52100:52000-52100/udp \
  --shm-size=2gb \
  m1k1o/neko:firefox

# Acc√®s : http://localhost:8080
# Identifiants : neko / monMotDePasse
# Admin : admin / monMotDePasseAdmin

# Version Chrome
docker run -d \
  --name=neko-chrome \
  -e NEKO_PASSWORD=password \
  -p 8081:8080 \
  m1k1o/neko:chromium</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Navigateur distant partag√© pour d√©monstrations<br>
        <strong>‚ö†Ô∏è Performance :</strong> N√©cessite une bonne connexion pour le streaming<br>
        <strong>‚úÖ Avantages :</strong> Temps r√©el, partage de session, multi-navigateurs<br>
        <strong>üö® Sc√©nario :</strong> "D√©monstration d'applications web en temps r√©el"
      </div>
    </div>

    <!-- Monitoring & Observabilit√© -->
    <h3 id="lab-monitoring"><i class="fas fa-chart-line"></i> 4. Monitoring & Observabilit√©</h3>

    <!-- Grafana -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code># Installation Docker
docker run -d -p 3000:3000 --name grafana grafana/grafana

# Installation native Ubuntu
sudo apt-get install -y adduser libfontconfig1
wget https://dl.grafana.com/oss/release/grafana_10.0.0_amd64.deb
sudo dpkg -i grafana_10.0.0_amd64.deb
sudo systemctl enable grafana-server
sudo systemctl start grafana-server

# Configuration datasource
apiVersion: 1
datasources:
  - name: Prometheus
    type: prometheus
    url: http://prometheus:9090
    access: proxy

# Acc√®s : http://localhost:3000
# Identifiants par d√©faut : admin / admin</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Visualisation de m√©triques et cr√©ation de dashboards<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Changer le mot de passe admin imm√©diatement<br>
        <strong>‚úÖ Avantages :</strong> Multi-sources, communaut√©, plugins<br>
        <strong>üö® Sc√©nario :</strong> "Cr√©ation de tableaux de bord pour surveillance infrastructure"
      </div>
    </div>

    <!-- Prometheus -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># Installation Prometheus
wget https://github.com/prometheus/prometheus/releases/download/v2.45.0/prometheus-2.45.0.linux-amd64.tar.gz
tar xvfz prometheus-*.tar.gz
cd prometheus-*
./prometheus --config.file=prometheus.yml

# Configuration de base
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
  - job_name: 'node_exporter'
    static_configs:
      - targets: ['localhost:9100']

# Node Exporter (m√©triques syst√®me)
docker run -d -p 9100:9100 --name node-exporter prom/node-exporter</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Collecte de m√©triques time-series<br>
        <strong>‚ö†Ô∏è Stockage :</strong> Pr√©voir assez d'espace pour les m√©triques<br>
        <strong>‚úÖ Avantages :</strong> Pull model, requ√™tes puissantes, int√©gration Kubernetes<br>
        <strong>üö® Sc√©nario :</strong> "Monitoring cloud native et conteneuris√©"
      </div>
    </div>

    <!-- Zabbix -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag monitoring">MONITORING</span>
        <span class="tag">‚è±Ô∏è 20 minutes</span>
      </div>
      <pre><code># Installation avec Docker
version: '3.5'
services:
  zabbix-server:
    image: zabbix/zabbix-server-mysql:latest
    ports: ["10051:10051"]
    environment:
      DB_SERVER_HOST: zabbix-mysql
      MYSQL_USER: zabbix
      MYSQL_PASSWORD: zabbix-password

  zabbix-web:
    image: zabbix/zabbix-web-nginx-mysql:latest
    ports: ["80:8080", "443:8443"]
    environment:
      DB_SERVER_HOST: zabbix-mysql
      MYSQL_USER: zabbix
      MYSQL_PASSWORD: zabbix-password

  zabbix-mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_USER: zabbix
      MYSQL_PASSWORD: zabbix-password</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Supervision d'infrastructure traditionnelle<br>
        <strong>‚ö†Ô∏è Ressources :</strong> Peut √™tre gourmand en base de donn√©es<br>
        <strong>‚úÖ Avantages :</strong> Scalable, templates, d√©couverte automatique<br>
        <strong>üö® Sc√©nario :</strong> "Monitoring d'un parc de serveurs et √©quipements r√©seau"
      </div>
    </div>

    <!-- T√©l√©phonie & VoIP -->
    <h3 id="lab-telephonie"><i class="fas fa-phone"></i> 5. T√©l√©phonie & VoIP</h3>

    <!-- 3CX -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag telephonie">T√âL√âPHONIE</span>
        <span class="tag">‚è±Ô∏è 30 minutes</span>
      </div>
      <pre><code># Installation 3CX
wget http://downloads.3cx.com/downloads/misc/debian10/3cxpbx.deb
dpkg -i 3cxpbx.deb

# Configuration r√©seau
# Acc√®s web : https://ip-serveur:5001

# Diagnostic SIP
tcpdump -i any -n port 5060
tail -f /var/lib/3cxpbx/Data/Logs/*.log

# Commandes syst√®me
systemctl status nginx
systemctl status 3CXPhoneSystemMC01
systemctl status 3CXHttpServer</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Mise en place d'un PBX IP pour communications unifi√©es<br>
        <strong>‚ö†Ô∏è S√©curit√© :</strong> Configurer correctement le firewall<br>
        <strong>‚úÖ Avantages :</strong> Interface web, int√©grations, co√ªt<br>
        <strong>üö® Sc√©nario :</strong> "Installation d'une centrale t√©l√©phonique IP"
      </div>
    </div>

    <!-- S√©curit√© & Analyse -->
    <h3 id="lab-securite"><i class="fas fa-shield-alt"></i> 6. S√©curit√© & Analyse</h3>

    <!-- Suricata -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 15 minutes</span>
      </div>
      <pre><code># Installation et d√©marrage
apt install suricata
suricata-update
suricata -c /etc/suricata/suricata.yaml -i eth0

# Configuration de base
# /etc/suricata/suricata.yaml
vars:
  address-groups:
    HOME_NET: "[192.168.0.0/16,10.0.0.0/8]"
    EXTERNAL_NET: "any"

# Surveillance alertes
tail -f /var/log/suricata/fast.log
jq '.' /var/log/suricata/eve.json | head -20

# Mise √† jour r√®gles
suricata-update
systemctl restart suricata</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> D√©tection d'intrusions r√©seau (IDS/IPS)<br>
        <strong>‚ö†Ô∏è Performance :</strong> Peut impacter les performances r√©seau<br>
        <strong>‚úÖ Avantages :</strong> Performances, r√®gles communautaires<br>
        <strong>üö® Sc√©nario :</strong> "Surveillance du trafic r√©seau pour d√©tection d'intrusions"
      </div>
    </div>

    <!-- Wazuh -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag securite">S√âCURIT√â</span>
        <span class="tag">‚è±Ô∏è 25 minutes</span>
      </div>
      <pre><code># Installation All-in-One
curl -sO https://packages.wazuh.com/4.5/wazuh-install.sh
sudo bash wazuh-install.sh --all-in-one

# Installation manuelle
# Serveur :
curl -s https://packages.wazuh.com/key/GPG-KEY-WAZUH | apt-key add -
echo "deb https://packages.wazuh.com/4.x/apt/ stable main" | tee /etc/apt/sources.list.d/wazuh.list
apt update
apt install wazuh-manager

# Agent Linux :
curl -s https://packages.wazuh.com/key/GPG-KEY-WAZUH | apt-key add -
echo "deb https://packages.wazuh.com/4.x/apt/ stable main" | tee /etc/apt/sources.list.d/wazuh.list
apt update
apt install wazuh-agent</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> SIEM open-source et HIDS (Host-based IDS)<br>
        <strong>‚ö†Ô∏è Ressources :</strong> N√©cessite Elasticsearch pour les logs<br>
        <strong>‚úÖ Avantages :</strong> CIS, PCI-DSS, int√©gration Elasticsearch<br>
        <strong>üö® Sc√©nario :</strong> "Centralisation des logs de s√©curit√© et conformit√©"
      </div>
    </div>

    <!-- Gestion de Parc & Services -->
    <h3 id="lab-gestion-parc"><i class="fas fa-tools"></i> 7. Gestion de Parc & Services</h3>

    <!-- GLPI -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag gestion">GESTION</span>
        <span class="tag">‚è±Ô∏è 20 minutes</span>
      </div>
      <pre><code># Installation GLPI
apt install glpi
mysql -u root -p -e "CREATE DATABASE glpi;"
mysql -u root -p -e "GRANT ALL ON glpi.* TO 'glpi'@'localhost';"

# Installation manuelle
wget https://github.com/glpi-project/glpi/releases/download/10.0.0/glpi-10.0.0.tgz
tar -xzf glpi-10.0.0.tgz
mv glpi /var/www/html/
chown -R www-data:www-data /var/www/html/glpi

# Agent FusionInventory
apt install fusioninventory-agent
fusioninventory-agent --server http://glpi-server/glpi/plugins/fusioninventory/</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Gestion de parc informatique et ticketing<br>
        <strong>‚ö†Ô∏è Base :</strong> Configurer correctement la base de donn√©es<br>
        <strong>‚úÖ Avantages :</strong> FusionInventory, gratuit√©<br>
        <strong>üö® Sc√©nario :</strong> "Inventaire automatique du parc informatique"
      </div>
    </div>

    <!-- Scripts de d√©ploiement automatique -->
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-moyen">RISQUE MOYEN</span>
        <span class="tag automation">AUTOMATISATION</span>
        <span class="tag gestion">GESTION</span>
        <span class="tag">‚è±Ô∏è 10 minutes</span>
      </div>
      <pre><code>#!/bin/bash
# Script de d√©ploiement automatique des outils du labo

LAB_TOOLS=("docker" "grafana" "prometheus" "zabbix")

deploy_tool() {
    case $1 in
        "docker")
            curl -fsSL https://get.docker.com -o get-docker.sh
            sh get-docker.sh
            usermod -aG docker $USER
            ;;
        "grafana")
            docker run -d -p 3000:3000 --name grafana grafana/grafana
            ;;
        "prometheus")
            docker run -d -p 9090:9090 --name prometheus prom/prometheus
            ;;
        "zabbix")
            docker-compose -f zabbix-docker-compose.yml up -d
            ;;
    esac
}

for tool in "${LAB_TOOLS[@]}"; do
    echo "D√©ploiement de $tool..."
    deploy_tool $tool
done

echo "D√©ploiement termin√© !"</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Automatisation de l'installation des outils<br>
        <strong>‚ö†Ô∏è Test :</strong> Toujours tester en environnement de test d'abord<br>
        <strong>‚úÖ Avantages :</strong> Gain de temps, reproductibilit√©<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement rapide d'un nouvel environnement de labo"
      </div>
    </div>

    <!-- Workflow d'installation labo -->
    <div class="workflow">
      <h3>üîß Workflow de Mise en Place du Laboratoire</h3>
      <ol>
        <li onclick="scrollToCommand('lab-emulation')">1. Installer l'√©mulation r√©seau (EVE-NG/GNS3)</li>
        <li onclick="scrollToCommand('lab-hyperviseurs')">2. Configurer l'hyperviseur (Proxmox/ESXi)</li>
        <li onclick="scrollToCommand('lab-monitoring')">3. D√©ployer le monitoring (Grafana/Prometheus)</li>
        <li onclick="scrollToCommand('lab-securite')">4. Installer les outils de s√©curit√© (Suricata/Wazuh)</li>
        <li onclick="scrollToCommand('lab-gestion-parc')">5. Mettre en place la gestion (GLPI)</li>
      </ol>
    </div> 
    

    <!-- ============================ -->
    <!-- SECTION AICHAT - TOUTES LES COMMANDES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="aichat"><i class="fas fa-robot aichat-icon"></i> AICHAT - Interface en Ligne de Commande</h2>

    <!-- Commandes de base AICHAT -->
    <h3 id="aichat-basic"><i class="fas fa-terminal"></i> Commandes de base</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag aichat">AICHAT</span>
        <span class="tag">‚è±Ô∏è 10 secondes</span>
      </div>
      <pre><code># Question simple √† un mod√®le
aichat -m openai:deepseek "Explique bri√®vement la diff√©rence entre TCP et UDP."

# Sans streaming pour un affichage instantan√©
aichat -m openai:deepseek -S "Explique bri√®vement la diff√©rence entre TCP et UDP."

# Utiliser un fichier comme contexte
aichat -f mon_document.pdf -m openai:deepseek "R√©sume ce document."

# D√©marrer le serveur local
aichat --serve 0.0.0.0:8080

# Question simple √† un mod√®le
aichat -m openai:deepseek "Explique bri√®vement la diff√©rence entre TCP et UDP."

# M√™me chose, sans streaming pour un affichage instantan√©
aichat -m openai:deepseek -S "Explique bri√®vement la diff√©rence entre TCP et UDP."

# Lister les mod√®les disponibles
aichat --list-models

# Synchroniser les mod√®les depuis le d√©p√¥t officiel
aichat --sync-models

# Utiliser un fichier comme contexte
aichat -f mon_document.pdf -m openai:deepseek "R√©sume ce document."

# D√©marrer le serveur local
aichat --serve 0.0.0.0:8080</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Interaction avec mod√®les IA en ligne de commande<br>
        <strong>‚ö†Ô∏è Contexte :</strong> Les fichiers de contexte am√©liorent les r√©ponses<br>
        <strong>‚úÖ Rapidit√© :</strong> Alternative rapide aux interfaces web<br>
        <strong>üö® Sc√©nario :</strong> "Recherche d'information technique rapide"
      </div>
    </div>

    <!-- Options principales AICHAT -->
    <h3 id="aichat-options"><i class="fas fa-cogs"></i> Options principales</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag configuration">CONFIGURATION</span>
        <span class="tag aichat">AICHAT</span>
        <span class="tag">‚è±Ô∏è 1 minute</span>
      </div>
      <pre><code># Gestion des mod√®les
aichat --list-models                    # Lister les mod√®les disponibles
aichat --sync-models                    # Synchroniser les mod√®les

# Gestion des sessions
aichat --list-sessions                  # Lister toutes les sessions
aichat -s, --session [SESSION]          # D√©marrer ou rejoindre une session

# R√¥les et agents
aichat --list-roles                     # Lister tous les r√¥les
aichat --list-agents                    # Lister tous les agents

# Fonctionnalit√©s avanc√©es
aichat -e, --execute                    # Ex√©cuter des commandes naturelles
aichat -c, --code                       # Afficher uniquement le code g√©n√©r√©
aichat --rag <RAG>                      # D√©marrer un RAG

# Options principales compl√®tes
| Option                    | Description                                                          |
| ------------------------- | -------------------------------------------------------------------- |
| `-m, --model <MODEL>`     | S√©lectionner un mod√®le. Exemple‚ÄØ: `openai:deepseek`                  |
| `--prompt <PROMPT>`       | Utiliser un **prompt syst√®me** sp√©cifique                            |
| `-r, --role <ROLE>`       | S√©lectionner un r√¥le pr√©configur√©                                    |
| `-s, --session [SESSION]` | D√©marrer ou rejoindre une session                                    |
| `--empty-session`         | Forcer une session vide                                              |
| `--save-session`          | Sauvegarder la conversation dans la session                          |
| `-a, --agent <AGENT>`     | D√©marrer un agent                                                    |
| `--rag <RAG>`             | D√©marrer un RAG (Retrieval-Augmented Generation)                     |
| `-e, --execute`           | Ex√©cuter des commandes naturelles                                    |
| `-c, --code`              | Afficher uniquement le code g√©n√©r√©                                   |
| `-f, --file <FILE>`       | Inclure fichiers, dossiers ou URLs                                   |
| `-S, --no-stream`         | **D√©sactiver l'affichage progressif** (plus rapide dans le terminal) |
| `--dry-run`               | Afficher la requ√™te sans l'envoyer                                   |
| `--info`                  | Afficher les informations du mod√®le ou session                       |
| `--sync-models`           | Synchroniser les mod√®les avec le d√©p√¥t officiel                      |
| `--list-models`           | Lister tous les mod√®les disponibles                                  |
| `--list-roles`            | Lister tous les r√¥les                                                |
| `--list-sessions`         | Lister toutes les sessions                                           |
| `--list-agents`           | Lister tous les agents                                               |
| `--list-rags`             | Lister tous les RAGs                                                 |
| `--list-macros`           | Lister tous les macros                                               |
| `--serve [<ADDRESS>]`     | D√©marrer le serveur API/WebApp                                       |
| `-h, --help`              | Afficher l'aide                                                      |
| `-V, --version`           | Afficher la version                                                  |</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Configuration avanc√©e d'AICHAT<br>
        <strong>‚ö†Ô∏è Mod√®les :</strong> Choisir le mod√®le adapt√© √† la t√¢che<br>
        <strong>‚úÖ Flexibilit√© :</strong> Large gamme d'options et fonctionnalit√©s<br>
        <strong>üö® Sc√©nario :</strong> "Configuration d'un workflow IA personnalis√©"
      </div>
    </div>

    <!-- ============================ -->
    <!-- SECTION SITES INTERNET - TOUTES LES R√âF√âRENCES ENRICHIES -->
    <!-- ============================ -->

    <h2 id="sites-internet"><i class="fas fa-external-link-alt sites-icon"></i> Sites de R√©f√©rence et Cheat Sheets</h2>

    <div class="note">
        <p><strong>üìö Ressources en ligne pour approfondir vos connaissances</strong></p>
    </div>

    <!-- Commandes et Cheat Sheets -->
    <h3 id="sites-cheatsheets"><i class="fas fa-terminal"></i> Commandes et Cheat Sheets</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence pour commandes et cheat sheets
- https://linuxize.com/# : Linux Sysadmin and DevOps blog about articles,tutorials, server operations and security.
- https://cheat.sh/ : Cheat sheets pour toutes les commandes (curl cht.sh/commande)
- https://tldr.sh/ : Simplified man pages avec des exemples concrets
- https://ss64.com/ : R√©f√©rence compl√®te des commandes Windows/Linux
- https://explainshell.com/ : Explication d√©taill√©e des options de commandes shell
- https://phoenixnap.com/kb : Base de connaissances avec tutoriels et commandes
- https://devhints.io/ : Cheat sheets pour d√©veloppeurs et administrateurs
- https://github.com/chubin/cheat.sh : Repository officiel avec toutes les cheat sheets
- https://www.commandlinefu.com/ : Commandes shell partag√©es par la communaut√©</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Recherche rapide de commandes et syntaxe<br>
        <strong>‚ö†Ô∏è V√©rification :</strong> Toujours tester les commandes inconnues<br>
        <strong>‚úÖ Apprentissage :</strong> Excellentes ressources pour apprendre<br>
        <strong>üö® Sc√©nario :</strong> "Oubli de la syntaxe d'une commande complexe"
      </div>
    </div>

    <!-- Linux et Open Source -->
    <h3 id="sites-linux"><i class="fab fa-linux"></i> Linux et Open Source</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence Linux
- https://linux.die.net/ : Linux Man Pages Online - Documentation compl√®te des commandes Linux
- https://tldp.org/ : The Linux Documentation Project - Guides et HOWTOs Linux
- https://www.cyberciti.biz/ : nixCraft - Tutoriels et astuces Linux/Unix
- https://www.debian.org/doc/ : Debian Documentation - Documentation officielle Debian
- https://wiki.archlinux.org/ : ArchWiki - Documentation Arch Linux tr√®s compl√®te
- https://help.ubuntu.com/ : Documentation officielle Ubuntu
- https://access.redhat.com/documentation/ : Documentation Red Hat Enterprise Linux
- https://docs.fedoraproject.org/ : Documentation Fedora</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Documentation et apprentissage Linux<br>
        <strong>‚ö†Ô∏è Distribution :</strong> Certains sites sont sp√©cifiques √† une distribution<br>
        <strong>‚úÖ Exhaustivit√© :</strong> Documentation tr√®s compl√®te disponible<br>
        <strong>üö® Sc√©nario :</strong> "Recherche de documentation technique Linux"
      </div>
    </div>

    <!-- Windows et Microsoft -->
    <h3 id="sites-windows"><i class="fab fa-windows"></i> Windows et Microsoft</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence Windows
- https://docs.microsoft.com/en-us/powershell/ : PowerShell Documentation - Documentation officielle PowerShell
- https://learn.microsoft.com/en-us/windows-server/ : Windows Server Docs - Documentation Windows Server
- https://docs.microsoft.com/en-us/sysinternals/ : Sysinternals - Outils et documentation syst√®me
- https://techcommunity.microsoft.com/ : Microsoft Tech Community
- https://docs.microsoft.com/en-us/windows/ : Documentation Windows client
- https://social.technet.microsoft.com/ : TechNet Forums
- https://gallery.technet.microsoft.com/ : Script Center</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Documentation Microsoft et Windows<br>
        <strong>‚ö†Ô∏è √âvolution :</strong> La documentation Microsoft √©volue rapidement<br>
        <strong>‚úÖ Officielle :</strong> Sources directes de Microsoft<br>
        <strong>üö® Sc√©nario :</strong> "R√©solution de probl√®mes Windows Server"
      </div>
    </div>

    <!-- R√©seau et Cisco -->
    <h3 id="sites-reseau"><i class="fas fa-network-wired"></i> R√©seau et Cisco</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence R√©seau
- https://www.cisco.com/c/en/us/support/index.html : Cisco Documentation - Documentation officielle Cisco
- https://www.routeralley.com/guides.html : RouterAlley - Guides r√©seaux et certifications
- https://www.packettracernetwork.com/ : PacketLife Cheat Sheets - Cheat sheets r√©seaux
- https://networklessons.com/ : Network Lessons - Cours r√©seaux en ligne
- https://www.firewall.cx/ : Firewall.cx - R√©seau et s√©curit√©
- https://www.juniper.net/documentation/ : Documentation Juniper
- https://www.arubanetworks.com/techdocs/ : Documentation Aruba Networks</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Apprentissage et r√©f√©rence r√©seaux<br>
        <strong>‚ö†Ô∏è Fabricant :</strong> Documentation sp√©cifique par fabricant<br>
        <strong>‚úÖ Certification :</strong> Ressources pour pr√©parer les certifications<br>
        <strong>üö® Sc√©nario :</strong> "Pr√©paration √† la certification CCNA"
      </div>
    </div>

    <!-- Bases de Donn√©es -->
    <h3 id="sites-databases"><i class="fas fa-database"></i> Bases de Donn√©es</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence Bases de Donn√©es
- https://dev.mysql.com/doc/ : MySQL Documentation - Documentation officielle MySQL
- https://www.postgresql.org/docs/ : PostgreSQL Docs - Documentation PostgreSQL
- https://docs.mongodb.com/ : MongoDB Documentation
- https://docs.oracle.com/en/database/ : Documentation Oracle Database
- https://mariadb.com/kb/ : MariaDB Knowledge Base
- https://redis.io/documentation : Documentation Redis
- https://www.sqlite.org/docs.html : Documentation SQLite</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Documentation des SGBD<br>
        <strong>‚ö†Ô∏è Version :</strong> V√©rifier la version de la documentation<br>
        <strong>‚úÖ Performance :</strong> Optimisation et tuning des bases<br>
        <strong>üö® Sc√©nario :</strong> "Optimisation des performances d'une base MySQL"
      </div>
    </div>

    <!-- Containers et Virtualisation -->
    <h3 id="sites-containers"><i class="fab fa-docker"></i> Containers et Virtualisation</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence Containers
- https://docs.docker.com/reference/ : Docker Documentation - R√©f√©rence Docker
- https://kubernetes.io/docs/home/ : Kubernetes Documentation - Docs officielles K8s
- https://docs.vmware.com/en/VMware-vSphere/index.html : vSphere Documentation - Documentation VMware
- https://pve.proxmox.com/wiki/ : Proxmox VE Wiki
- https://docs.ansible.com/ : Documentation Ansible
- https://www.vagrantup.com/docs : Documentation Vagrant
- https://www.packer.io/docs : Documentation Packer</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Documentation conteneurs et virtualisation<br>
        <strong>‚ö†Ô∏è √âcosyst√®me :</strong> Technologies en √©volution rapide<br>
        <strong>‚úÖ Best Practices :</strong> Guides de bonnes pratiques inclus<br>
        <strong>üö® Sc√©nario :</strong> "D√©ploiement d'une application avec Kubernetes"
      </div>
    </div>

    <!-- S√©curit√© -->
    <h3 id="sites-securite"><i class="fas fa-shield-alt"></i> S√©curit√©</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de r√©f√©rence S√©curit√©
- https://owasp.org/www-project-cheat-sheets/ : OWASP Cheat Sheets - S√©curit√© applicative
- https://cheatsheetseries.owasp.org/ : OWASP Cheat Sheet Series - S√©curit√© web
- https://www.sans.org/blog/the-ultimate-list-of-sans-cheat-sheets/ : SANS Cheat Sheets - S√©curit√© informatique
- https://www.ncsc.gov.uk/guidance : NCSC Guidance - Centre national de cybers√©curit√© UK
- https://csrc.nist.gov/publications : NIST Publications
- https://www.cisecurity.org/cis-benchmarks/ : CIS Benchmarks
- https://www.securityfocus.com/ : SecurityFocus</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> R√©f√©rences en s√©curit√© informatique<br>
        <strong>‚ö†Ô∏è Sensible :</strong> Certaines informations peuvent √™tre sensibles<br>
        <strong>‚úÖ Standards :</strong> R√©f√©rences de standards industry<br>
        <strong>üö® Sc√©nario :</strong> "Mise en conformit√© avec les standards de s√©curit√©"
      </div>
    </div>

    <!-- Outils en Ligne -->
    <h3 id="sites-outils"><i class="fas fa-tools"></i> Outils en Ligne</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Outils en ligne utiles
- https://www.regex101.com/ : Regex101 - Testeur d'expressions r√©guli√®res
- https://jsonformatter.org/ : JSON Formatter - Validation et formatage JSON
- https://www.base64decode.org/ : Base64 Decode - Encodeur/d√©codeur Base64
- https://crontab.guru/ : Crontab Guru - √âditeur visuel de crontab
- https://www.url-encode-decode.com/ : URL Encode/Decode
- https://www.sqlformat.org/ : SQL Formatter - Formatage SQL
- https://www.diffchecker.com/ : Diff Checker - Comparaison de texte
- https://www.online-convert.com/ : Online Convert - Conversion de fichiers</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Outils rapides pour t√¢ches courantes<br>
        <strong>‚ö†Ô∏è Confidentialit√© :</strong> √âviter les donn√©es sensibles<br>
        <strong>‚úÖ Productivit√© :</strong> Gain de temps pour des t√¢ches simples<br>
        <strong>üö® Sc√©nario :</strong> "Test rapide d'une expression r√©guli√®re"
      </div>
    </div>

    <!-- Forums et Communaut√©s -->
    <h3 id="sites-forums"><i class="fas fa-users"></i> Forums et Communaut√©s</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Forums et communaut√©s techniques
- https://stackoverflow.com/ : Stack Overflow - Questions/r√©ponses programmation
- https://serverfault.com/ : Server Fault - Administration syst√®me
- https://superuser.com/ : Super User - Questions utilisateur avanc√©
- https://www.reddit.com/r/sysadmin/ : Reddit Sysadmin
- https://www.reddit.com/r/networking/ : Reddit Networking
- https://community.spiceworks.com/ : Spiceworks Community
- https://discourse.ubuntu.com/ : Ubuntu Discourse
- https://forums.centos.org/ : CentOS Forums</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Recherche de solutions √† des probl√®mes sp√©cifiques<br>
        <strong>‚ö†Ô∏è Qualit√© :</strong> V√©rifier la qualit√© des r√©ponses<br>
        <strong>‚úÖ Communaut√© :</strong> Large base de connaissances collective<br>
        <strong>üö® Sc√©nario :</strong> "Probl√®me technique sans solution document√©e"
      </div>
    </div>

    <!-- Tutoriels et Formations -->
    <h3 id="sites-tutoriels"><i class="fas fa-graduation-cap"></i> Tutoriels et Formations</h3>
    <div class="command-card">
      <div class="command-meta">
        <span class="tag risque-faible">RISQUE FAIBLE</span>
        <span class="tag reference">R√âF√âRENCE</span>
        <span class="tag sites">SITES</span>
        <span class="tag">‚è±Ô∏è Navigation</span>
      </div>
      <pre><code># Sites de tutoriels et formations
- https://www.digitalocean.com/community/tutorials : DigitalOcean Tutorials
- https://linuxconfig.org/ : LinuxConfig - Tutoriels Linux
- https://www.howtoforge.com/ : HowtoForge - Guides Linux
- https://www.tecmint.com/ : Tecmint - Linux Howtos
- https://www.2daygeek.com/ : 2DayGeek - Articles techniques
- https://www.cyberciti.biz/ : nixCraft (d√©j√† list√© mais important)
- https://www.guru99.com/ : Guru99 - Tutoriels IT
- https://www.tutorialspoint.com/index.htm : TutorialsPoint</code></pre>
      
      <div class="context-box">
        <strong>üéØ Quand utiliser :</strong> Apprentissage de nouvelles technologies<br>
        <strong>‚ö†Ô∏è Actualit√© :</strong> V√©rifier la date des tutoriels<br>
        <strong>‚úÖ P√©dagogique :</strong> Approche √©tape par √©tape<br>
        <strong>üö® Sc√©nario :</strong> "Apprentissage d'une nouvelle technologie"
      </div>
    </div>

    <div class="warning">
        <p><strong>üí° Conseil :</strong> Ces sites externes s'ouvriront dans un nouvel onglet. N'h√©sitez pas √† les bookmarker pour un acc√®s rapide !</p>
    </div>

 

  </div>

<script>
    // =============================================
    // FONCTIONS DE BASE
    // =============================================

    // Fonction pour copier le code
    document.querySelectorAll('pre').forEach(pre => {
        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.innerHTML = '<i class="far fa-copy"></i>';
        btn.onclick = () => {
            const code = pre.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                btn.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => btn.innerHTML = '<i class="far fa-copy"></i>', 2000);
            });
        };
        pre.appendChild(btn);
    });

    // Fonction pour basculer le th√®me
    function toggleTheme() {
        const current = document.documentElement.getAttribute('data-theme');
        const newTheme = current === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', newTheme);
        const icon = document.querySelector('.theme-toggle i');
        icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        
        // Sauvegarder la pr√©f√©rence
        localStorage.setItem('theme', newTheme);
    }

    // =============================================
    // FONCTIONS DE FILTRAGE ET RECHERCHE
    // =============================================

    let currentMode = 'apprentissage';

    function toggleMode() {
        currentMode = currentMode === 'apprentissage' ? 'urgence' : 'apprentissage';
        const modeToggle = document.querySelector('.mode-toggle');
        modeToggle.innerHTML = currentMode === 'urgence' ? 
            '<i class="fas fa-graduation-cap"></i> Mode Apprentissage' : 
            '<i class="fas fa-rocket"></i> Mode Urgence';
        
        document.body.classList.toggle('mode-urgence', currentMode === 'urgence');
        document.querySelectorAll('.context-box').forEach(box => {
            box.style.display = currentMode === 'urgence' ? 'none' : 'block';
        });
        
        // Message de confirmation
        const message = currentMode === 'urgence' 
            ? 'üîß MODE URGENCE - Affichage des commandes uniquement' 
            : 'üìö MODE APPRENTISSAGE - Affichage complet avec explications';
        showNotification(message);
    }

    // Fonction pour afficher des notifications
    function showNotification(message) {
        // Cr√©er une notification temporaire
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            padding: 12px 20px;
            border-radius: 5px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-weight: bold;
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    // Sc√©narios courants
    function filterScenario(scenario) {
        const scenarios = {
            'reseau-down': ['ip a', 'ip route', 'ping', 'traceroute', 'ss -tulpn', 'nc -vz', 'interface', 'connexion'],
            'ssh-blocked': ['systemctl status sshd', 'netstat -tulpn', 'iptables -L', 'telnet', 'port 22', 'ssh', 'acc√®s'],
            'disk-full': ['df -h', 'du -sh', 'find /var/log', 'espace disque', 'nettoyage', 'clean', 'disk'],
            'service-crash': ['systemctl --failed', 'journalctl -xe', 'ps aux', 'service', 'restart', 'status'],
            'dns-issue': ['nslookup', 'dig', 'cat /etc/resolv.conf', 'systemd-resolve', 'dns', 'resolution', 'domain'],
            'firewall-block': ['iptables -L', 'ufw status', 'firewall-cmd', 'port', 'block', 'autoriser', 'r√®gle'],
            'performance-slow': ['top', 'htop', 'iostat', 'vmstat', 'performance', 'm√©moire', 'cpu', 'load'],
            'security-breach': ['last', 'who', 'ps aux', 'netstat -tulpn', 's√©curit√©', 'intrusion', 'audit']
        };

        const commands = scenarios[scenario];
        if (commands) {
            document.getElementById('searchInput').value = commands.join(' ');
            filterContent();
            showNotification(`üîç Filtrage sc√©nario: ${scenario.replace('-', ' ')}`);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    }

    // Filtres par risque
    function filterByRisk(risk) {
        const riskTerms = {
            'faible': ['risque-faible', 'diagnostic', 'v√©rification', 'surveillance', 'monitoring'],
            'moyen': ['risque-moyen', 'configuration', 'maintenance', 'modification', 'setup'],
            'eleve': ['risque-√©lev√©', 'formatage', 'suppression', 'rm -rf', 'critical', 'danger']
        };
        
        document.getElementById('searchInput').value = riskTerms[risk].join(' ');
        filterContent();
        showNotification(`üéØ Filtre risque: ${risk}`);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Filtres par type
    function filterByType(type) {
        const typeTerms = {
            'diagnostic': ['diagnostic', 'v√©rifier', 'tester', 'status', 'surveillance', 'check'],
            'reparation': ['restart', 'red√©marrer', 'r√©parer', 'corriger', 'fix', 'restaurer', 'repair']
        };
        
        document.getElementById('searchInput').value = typeTerms[type].join(' ');
        filterContent();
        showNotification(`üîß Filtre type: ${type}`);
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Afficher toutes les commandes
    function showAllCommands() {
        document.getElementById('searchInput').value = '';
        filterContent();
        showNotification('üìã Affichage de toutes les commandes');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Filtres par cat√©gorie
    function toggleFilter(filterType) {
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        if (filterType === 'all') {
            showAllCommands();
        } else {
            document.getElementById('searchInput').value = filterType;
            filterContent();
            showNotification(`üè∑Ô∏è Filtre: ${filterType}`);
        }
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Navigation vers une commande sp√©cifique
    function scrollToCommand(commandId) {
        const element = document.getElementById(commandId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth' });
            
            // Highlight temporaire
            const originalBackground = element.style.backgroundColor;
            element.style.backgroundColor = '#fff3cd';
            element.style.transition = 'background-color 0.3s ease';
            
            setTimeout(() => { 
                element.style.backgroundColor = originalBackground; 
            }, 2000);
        } else {
            // Fallback : recherche dans le contenu
            document.getElementById('searchInput').value = commandId;
            filterContent();
            showNotification(`üîç Recherche: ${commandId}`);
        }
    }

    // =============================================
    // FONCTION DE RECHERCHE PRINCIPALE
    // =============================================

    function filterContent() {
        const input = document.getElementById('searchInput').value.toLowerCase().trim();
        
        // Si recherche vide, tout afficher
        if (!input) {
            document.querySelectorAll('.section-hidden').forEach(el => {
                el.classList.remove('section-hidden');
            });
            document.querySelectorAll('.search-highlight').forEach(el => {
                el.outerHTML = el.innerHTML;
            });
            return;
        }

        let found = false;
        let resultsCount = 0;
        
        // Recherche dans les titres (h2, h3)
        document.querySelectorAll('h2, h3').forEach(title => {
            const titleText = title.textContent.toLowerCase();
            if (titleText.includes(input)) {
                found = true;
                resultsCount++;
                title.classList.remove('section-hidden');
                
                // Afficher tout le contenu jusqu'au prochain titre de m√™me niveau ou sup√©rieur
                let nextEl = title.nextElementSibling;
                while (nextEl && !(nextEl.tagName === title.tagName || 
                                  (title.tagName === 'H3' && nextEl.tagName === 'H2'))) {
                    nextEl.classList.remove('section-hidden');
                    nextEl = nextEl.nextElementSibling;
                }
            } else {
                title.classList.add('section-hidden');
            }
        });
        
        // Recherche dans le contenu (pre et context-box)
        document.querySelectorAll('pre, .context-box').forEach(element => {
            const elementText = element.textContent.toLowerCase();
            if (elementText.includes(input)) {
                found = true;
                resultsCount++;
                element.classList.remove('section-hidden');
                
                // Mettre en surbrillance le texte trouv√©
                if (element.querySelector('code')) {
                    const code = element.querySelector('code');
                    const html = code.innerHTML;
                    const highlighted = html.replace(
                        new RegExp(input.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi'),
                        match => `<span class="search-highlight">${match}</span>`
                    );
                    code.innerHTML = highlighted;
                }
                
                // Afficher le titre parent
                let currentEl = element.previousElementSibling;
                while (currentEl && !['H2', 'H3'].includes(currentEl.tagName)) {
                    currentEl = currentEl.previousElementSibling;
                }
                if (currentEl) {
                    currentEl.classList.remove('section-hidden');
                }
            } else {
                element.classList.add('section-hidden');
                // Retirer les anciens surlignages
                if (element.querySelector('code')) {
                    const code = element.querySelector('code');
                    code.innerHTML = code.textContent;
                }
            }
        });

        // Feedback des r√©sultats
        if (found) {
            showNotification(`‚úÖ ${resultsCount} r√©sultat(s) trouv√©(s) pour: "${input}"`);
        } else {
            showNotification(`‚ùå Aucun r√©sultat trouv√© pour: "${input}"`);
            // R√©afficher tout si aucun r√©sultat
            setTimeout(showAllCommands, 2000);
        }
    }

    // =============================================
    // √âCOUTEURS D'√âV√âNEMENTS
    // =============================================

    // Recherche avec debounce
    document.getElementById('searchInput').addEventListener('keyup', debounce(filterContent, 300));
    
    // Recherche avec Enter
    document.getElementById('searchInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            filterContent();
        }
    });

    // Fonction debounce pour optimiser la recherche
    function debounce(func, wait) {
        let timeout;
        return function() {
            const context = this, args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                func.apply(context, args);
            }, wait);
        };
    }

    // =============================================
    // INITIALISATION AU CHARGEMENT
    // =============================================
    
    document.addEventListener('DOMContentLoaded', function() {
        // Initialiser le th√®me
        const savedTheme = localStorage.getItem('theme') || 
                          (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', savedTheme);
        document.querySelector('.theme-toggle i').className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        
        // Initialiser le mode
        currentMode = 'apprentissage';
        
        // Afficher un message de bienvenue
        setTimeout(() => {
            showNotification('üöÄ Base de connaissances charg√©e - Pr√™t √† utiliser !');
        }, 1000);
        
        // Raccourci clavier pour la recherche (Ctrl/Cmd + K)
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
                document.getElementById('searchInput').select();
            }
        });
    });

    // =============================================
    // FONCTIONS UTILITAIRES SUPPL√âMENTAIRES
    // =============================================

    // Exporter les commandes (fonctionnalit√© avanc√©e)
    function exportCommands() {
        const commands = [];
        document.querySelectorAll('pre code').forEach(code => {
            commands.push(code.textContent);
        });
        
        const blob = new Blob([commands.join('\n\n')], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'commandes-backup.txt';
        a.click();
        URL.revokeObjectURL(url);
        
        showNotification('üíæ Commandes export√©es avec succ√®s !');
    }

    // Compter le nombre total de commandes
    function countCommands() {
        const count = document.querySelectorAll('pre').length;
        showNotification(`üìä Base de connaissances: ${count} commandes disponibles`);
        return count;
    }

    // Mode al√©atoire - d√©couvrir une commande au hasard
    function randomCommand() {
        const commands = document.querySelectorAll('h3');
        if (commands.length > 0) {
            const randomIndex = Math.floor(Math.random() * commands.length);
            const randomCommand = commands[randomIndex];
            scrollToCommand(randomCommand.id);
            showNotification('üé≤ Commande al√©atoire d√©couverte !');
        }
    }
</script>
</body>
</html>

